{"ast":null,"code":"import \"core-js/modules/web.dom-exception.stack.js\";\nimport AppStorage from \"./AppStorage\";\n\nclass Token {\n  isValid(token) {\n    const payload = this.payload(token); // console.log(payload);\n\n    if (payload.iss = \"http://localhost:8000/api/login\") {\n      return payload.iss = \"http://localhost:8000/api/register\" || \"http://localhost:8000/api/login\" ? true : false;\n    }\n\n    return false;\n  }\n\n  payload(token) {\n    const payload = token.split('.')[1]; // console.log(this.decode(payload));\n\n    return this.decode(payload);\n  }\n\n  decode(payload) {\n    if (this.isBase64(payload)) {\n      console.log(JSON.parse(atob(payload)));\n      return JSON.parse(atob(payload));\n    }\n\n    return false;\n  }\n\n  isBase64(str) {\n    try {\n      console.log(btoa(str));\n      return btoa(atob(str)).replace(/=/g, \"\") == str;\n    } catch (err) {\n      return false;\n    }\n  }\n\n}\n\nexport default Token = new Token();","map":{"version":3,"names":["AppStorage","Token","isValid","token","payload","iss","split","decode","isBase64","console","log","JSON","parse","atob","str","btoa","replace","err"],"sources":["F:/softvue/src/middleware/Token.js"],"sourcesContent":["import AppStorage from \"./AppStorage\";\r\n\r\nclass Token{\r\n\r\n\r\n    isValid(token){\r\n        const payload = this.payload(token);\r\n        // console.log(payload);\r\n\r\n        if(payload.iss = \"http://localhost:8000/api/login\"){\r\n            return payload.iss =  \"http://localhost:8000/api/register\" || \"http://localhost:8000/api/login\" ? true : false;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    payload(token){\r\n        const payload = token.split('.')[1];\r\n        // console.log(this.decode(payload));\r\n        return this.decode(payload);\r\n    }\r\n\r\n    decode(payload){\r\n        if(this.isBase64(payload)){\r\n            console.log(JSON.parse(atob(payload)))\r\n            return JSON.parse(atob(payload))\r\n        }\r\n        return false;\r\n    }\r\n\r\n    isBase64(str){\r\n        try{\r\n            console.log(btoa(str));\r\n            return btoa(atob(str)).replace(/=/g, \"\") == str;\r\n        }\r\n        catch(err){\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport default Token = new Token();"],"mappings":";AAAA,OAAOA,UAAP,MAAuB,cAAvB;;AAEA,MAAMC,KAAN,CAAW;EAGPC,OAAO,CAACC,KAAD,EAAO;IACV,MAAMC,OAAO,GAAG,KAAKA,OAAL,CAAaD,KAAb,CAAhB,CADU,CAEV;;IAEA,IAAGC,OAAO,CAACC,GAAR,GAAc,iCAAjB,EAAmD;MAC/C,OAAOD,OAAO,CAACC,GAAR,GAAe,wCAAwC,iCAAxC,GAA4E,IAA5E,GAAmF,KAAzG;IACH;;IAED,OAAO,KAAP;EACH;;EAEDD,OAAO,CAACD,KAAD,EAAO;IACV,MAAMC,OAAO,GAAGD,KAAK,CAACG,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAhB,CADU,CAEV;;IACA,OAAO,KAAKC,MAAL,CAAYH,OAAZ,CAAP;EACH;;EAEDG,MAAM,CAACH,OAAD,EAAS;IACX,IAAG,KAAKI,QAAL,CAAcJ,OAAd,CAAH,EAA0B;MACtBK,OAAO,CAACC,GAAR,CAAYC,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACT,OAAD,CAAf,CAAZ;MACA,OAAOO,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACT,OAAD,CAAf,CAAP;IACH;;IACD,OAAO,KAAP;EACH;;EAEDI,QAAQ,CAACM,GAAD,EAAK;IACT,IAAG;MACCL,OAAO,CAACC,GAAR,CAAYK,IAAI,CAACD,GAAD,CAAhB;MACA,OAAOC,IAAI,CAACF,IAAI,CAACC,GAAD,CAAL,CAAJ,CAAgBE,OAAhB,CAAwB,IAAxB,EAA8B,EAA9B,KAAqCF,GAA5C;IACH,CAHD,CAIA,OAAMG,GAAN,EAAU;MACN,OAAO,KAAP;IACH;EACJ;;AApCM;;AA0CX,eAAehB,KAAK,GAAG,IAAIA,KAAJ,EAAvB"},"metadata":{},"sourceType":"module"}