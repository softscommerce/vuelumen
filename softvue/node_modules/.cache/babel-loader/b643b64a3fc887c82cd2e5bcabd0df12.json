{"ast":null,"code":"import \"core-js/modules/web.dom-exception.stack.js\";\nimport AppStorage from \"./AppStorage\";\n\nclass Token {\n  isValid(token) {\n    const payload = this.payload(token);\n\n    if (payload) {\n      return payload.iss = \"http://localhost:8000/api/register\" || \"http://localhost:8000/api/login\" ? true : false;\n    }\n\n    return false;\n  }\n\n  payload(token) {\n    const payload = token.split('.')[1]; // console.log(this.decode(payload));\n\n    return this.decode(payload);\n  }\n\n  decode(payload) {\n    if (this.isBase64(payload)) {\n      return JSON.parse(atob(payload));\n    }\n\n    return false;\n  }\n\n  isBase64(str) {\n    try {\n      return btoa(atob(str)).replace(/=/g, \"\") == str;\n    } catch (err) {\n      return false;\n    }\n  }\n\n}\n\nexport default Token = new Token();","map":{"version":3,"names":["AppStorage","Token","isValid","token","payload","iss","split","decode","isBase64","JSON","parse","atob","str","btoa","replace","err"],"sources":["F:/softvue/src/middleware/Token.js"],"sourcesContent":["import AppStorage from \"./AppStorage\";\r\n\r\nclass Token{\r\n\r\n    isValid(token){\r\n        const payload = this.payload(token);\r\n\r\n        if(payload){\r\n            return payload.iss =  \"http://localhost:8000/api/register\" || \"http://localhost:8000/api/login\" ? true : false;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    payload(token){\r\n        const payload = token.split('.')[1];\r\n        // console.log(this.decode(payload));\r\n        return this.decode(payload);\r\n    }\r\n\r\n    decode(payload){\r\n        if(this.isBase64(payload)){\r\n            return JSON.parse(atob(payload))\r\n        }\r\n        return false;\r\n    }\r\n\r\n    isBase64(str){\r\n        try{\r\n            return btoa(atob(str)).replace(/=/g, \"\") == str;\r\n        }\r\n        catch(err){\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default Token = new Token();"],"mappings":";AAAA,OAAOA,UAAP,MAAuB,cAAvB;;AAEA,MAAMC,KAAN,CAAW;EAEPC,OAAO,CAACC,KAAD,EAAO;IACV,MAAMC,OAAO,GAAG,KAAKA,OAAL,CAAaD,KAAb,CAAhB;;IAEA,IAAGC,OAAH,EAAW;MACP,OAAOA,OAAO,CAACC,GAAR,GAAe,wCAAwC,iCAAxC,GAA4E,IAA5E,GAAmF,KAAzG;IACH;;IAED,OAAO,KAAP;EACH;;EAEDD,OAAO,CAACD,KAAD,EAAO;IACV,MAAMC,OAAO,GAAGD,KAAK,CAACG,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAhB,CADU,CAEV;;IACA,OAAO,KAAKC,MAAL,CAAYH,OAAZ,CAAP;EACH;;EAEDG,MAAM,CAACH,OAAD,EAAS;IACX,IAAG,KAAKI,QAAL,CAAcJ,OAAd,CAAH,EAA0B;MACtB,OAAOK,IAAI,CAACC,KAAL,CAAWC,IAAI,CAACP,OAAD,CAAf,CAAP;IACH;;IACD,OAAO,KAAP;EACH;;EAEDI,QAAQ,CAACI,GAAD,EAAK;IACT,IAAG;MACC,OAAOC,IAAI,CAACF,IAAI,CAACC,GAAD,CAAL,CAAJ,CAAgBE,OAAhB,CAAwB,IAAxB,EAA8B,EAA9B,KAAqCF,GAA5C;IACH,CAFD,CAGA,OAAMG,GAAN,EAAU;MACN,OAAO,KAAP;IACH;EACJ;;AAhCM;;AAqCX,eAAed,KAAK,GAAG,IAAIA,KAAJ,EAAvB"},"metadata":{},"sourceType":"module"}