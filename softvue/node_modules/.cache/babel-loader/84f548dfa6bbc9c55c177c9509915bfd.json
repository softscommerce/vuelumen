{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport getHelpers from '../helpers/getHelpers';\nimport { ref, watch, reactive, onMounted } from \"vue\";\nimport categoryApi from '../category/composible/category-api';\nimport productApi from '../product/composible/product-api';\nimport { useStore } from 'vuex';\nimport brandApi from '../brand/composible/brand-api';\nimport Validation from '@/Helpers/helpers';\nimport { useRoute } from 'vue-router';\nexport default {\n  setup() {\n    const route = useRoute();\n    const store = useStore();\n    const image = ref('');\n    const cat_name = ref('');\n    const cat_description = ref('');\n    const brand_name = ref('');\n    const brand_description = ref('');\n    const product = ref('');\n\n    const displayToCommunity = event => {\n      console.log(event);\n    }; //get helps section\n\n\n    const {\n      brand,\n      error,\n      brandList,\n      categories,\n      categoryList,\n      subCategories,\n      subCategoryList\n    } = getHelpers();\n    onMounted(async () => {\n      await brand();\n      await categories();\n    }); //brand section\n    //category section \n\n    const openbrand = ref(false);\n\n    const brandOpen = () => {\n      openbrand.value = true;\n    };\n\n    const productBrandSubmit = async () => {\n      const form = new FormData();\n      form.append(\"image\", image.value);\n      form.append(\"name\", brand_name.value);\n      form.append(\"description\", brand_description.value);\n      const brands = await brandApi.create(form);\n\n      if (brands.data.success) {\n        const payload = {\n          type: 'success',\n          message: brands.data.success\n        };\n        store.dispatch('addNotification', payload);\n        await brand();\n        openbrand.value = false;\n        brand_name.value = '';\n        brand_description.value = '';\n        img_url.value = '';\n      }\n    }; //category section  start\n\n\n    const opencategory = ref(false);\n\n    const categoryOpen = () => {\n      opencategory.value = true;\n    };\n\n    const FeatureImageNow = product.value.feature_image;\n\n    const transformImgExt = FeatureImageNow => {\n      // If webp is supported, transform the url\n      if (this.webpSupported) {\n        return url.replace(/\\.\\w{1,5}$/, \".webp\");\n      } else {\n        // Otherwise, just return the original\n        return url;\n      }\n    };\n\n    const webpSupported = () => {};\n\n    const productCategorySubmit = async () => {\n      console.log('ok');\n      const form = new FormData();\n      form.append(\"image\", image.value);\n      form.append(\"name\", cat_name.value);\n      form.append(\"description\", cat_description.value);\n      form.append(\"category_id\", category_id.value);\n      const categoriess = await categoryApi.create(form);\n\n      if (categoriess.data.success) {\n        const payload = {\n          type: 'success',\n          message: categoriess.data.success\n        };\n        store.dispatch('addNotification', payload);\n        await categories();\n        opencategory.value = false;\n        cat_name.value = '';\n        cat_description.value = '';\n        img_url.value = '';\n      }\n    };\n\n    const img_url = ref('');\n\n    const ImgChange = event => {\n      img_url.value = URL.createObjectURL(event.target.files[0]);\n      var f = event.target.files[0];\n      var fileName = f.name.split('.')[0];\n      var img = new Image();\n      img.src = URL.createObjectURL(f);\n\n      if (f.size >= 100006) {\n        img.onload = function () {\n          var canvas = document.createElement('canvas');\n          canvas.width = img.width;\n          canvas.height = img.height;\n          var ctx = canvas.getContext('2d');\n          ctx.drawImage(img, 0, 0);\n          canvas.toBlob(function (blob) {\n            var f2 = new File([blob], fileName + \".webp\");\n            image.value = f2;\n          }, 'image/webp', 0.00001);\n        };\n      } else {\n        img.onload = function () {\n          var canvas = document.createElement('canvas');\n          canvas.width = img.width;\n          canvas.height = img.height;\n          var ctx = canvas.getContext('2d');\n          ctx.drawImage(img, 0, 0);\n          canvas.toBlob(function (blob) {\n            var f2 = new File([blob], fileName + \".webp\");\n            image.value = f2;\n          }, 'image/webp', 0.5);\n        };\n      }\n    };\n\n    const ImgRemove = () => {\n      img_url.value = '';\n    }; //end category section\n\n\n    const feature_image_url = ref('');\n    const feature_image_get = ref('');\n\n    const featureImage = event => {\n      feature_image_url.value = URL.createObjectURL(event.target.files[0]);\n      var f = event.target.files[0];\n      var fileName = f.name.split('.')[0];\n      var img = new Image();\n      img.src = URL.createObjectURL(f);\n\n      if (f.size >= 100006) {\n        img.onload = function () {\n          var canvas = document.createElement('canvas');\n          canvas.width = img.width;\n          canvas.height = img.height;\n          var ctx = canvas.getContext('2d');\n          ctx.drawImage(img, 0, 0);\n          canvas.toBlob(function (blob) {\n            var f2 = new File([blob], fileName + \".webp\");\n            feature_image_get.value = f2;\n          }, 'image/webp', 0.00001);\n        };\n      } else {\n        img.onload = function () {\n          var canvas = document.createElement('canvas');\n          canvas.width = img.width;\n          canvas.height = img.height;\n          var ctx = canvas.getContext('2d');\n          ctx.drawImage(img, 0, 0);\n          canvas.toBlob(function (blob) {\n            var f2 = new File([blob], fileName + \".webp\");\n            feature_image_get.value = f2;\n          }, 'image/webp', 0.5);\n        };\n      }\n    };\n\n    const featureImgRemove = () => {\n      feature_image_url.value = '';\n    };\n\n    const image_gallaries = ref([]);\n    const image_gallary_url = ref([]);\n    const imageLength = ref(0);\n\n    const galleryImageChange = event => {\n      imageLength.value = event.target.files.length;\n\n      if (imageLength.value <= 4) {\n        for (let i = 0; i < event.target.files.length; i++) {\n          image_gallary_url.value.push(URL.createObjectURL(event.target.files[i]));\n          console.log(image_gallary_url.value);\n          var f = event.target.files[i]; // var fileName = f.name.split('.')[0];\n\n          var img = new Image();\n          img.src = URL.createObjectURL(f);\n\n          img.onload = function () {\n            var canvas = document.createElement('canvas');\n            canvas.width = img.width;\n            canvas.height = img.height;\n            var ctx = canvas.getContext('2d');\n            ctx.drawImage(img, 0, 0);\n            canvas.toBlob(function (blob) {\n              var fileName = Math.random().toString(36).replace(/[^a-z 0-9]+/g, '').substr(2);\n              image_gallaries.value.push(new File([blob], fileName + \".webp\")); // console.log(image_gallaries.value);\n            }, 'image/webp', 0.00001);\n          };\n        }\n      } else {\n        alert('Please select gallary Image Less then equal 4');\n      }\n    };\n\n    const gallaryImgRemove = () => {\n      image_gallary_url.value = '';\n      image_gallaries.value = '';\n      imageLength.value = 0;\n    };\n\n    const tags = ref([]);\n    const tag = ref('');\n\n    const tagSubmit = () => {\n      if (!tags.value.includes(tag.value)) {\n        tag.value = tag.value.replace(/\\s/, ''); // remove all white space\n\n        tags.value.push(tag.value);\n      }\n\n      tag.value = '';\n      console.log(tags.value);\n    };\n\n    const tagkeyPress = () => {\n      if (!tags.value.includes(tag.value)) {\n        tag.value = tag.value.replace(/\\s/, ''); // remove all white space\n\n        tags.value.push(tag.value);\n      }\n\n      tag.value = '';\n      console.log(tags.value);\n    }; // Shipping Add row \n\n\n    const inputs = reactive([]);\n\n    const add = () => {\n      inputs.push({\n        length: '',\n        width: '',\n        height: '',\n        unit: ''\n      });\n    };\n\n    const remove = index => {\n      inputs.splice(index, 1);\n    }; // Inventory Add\n\n\n    const inventory = reactive([]);\n\n    const addInventory = () => {\n      inventory.push({\n        sku: '',\n        size: '',\n        price: '',\n        weight: ''\n      });\n    };\n\n    const removeInventory = index => {\n      inventory.splice(index, 1);\n    }; // Sub Category Add\n\n\n    const sub_category_id = ref(0);\n\n    const displayToSubCategory = event => {\n      if (event != 'Sub Category') {\n        sub_category_id.value = event;\n      } else {\n        sub_category_id.value = 0;\n      }\n    };\n\n    const brand_id = ref(0);\n\n    const displayToBrand = event => {\n      if (event != 'Brand') {\n        brand_id.value = event;\n        Validations['brand'](brand_id.value, 'Brand is required');\n      } else {\n        brand_id.value = 0;\n      }\n    };\n\n    const product_name = ref('');\n    const product_description = ref('');\n    const unit = ref('');\n    const regular_price = ref('');\n    const sale_price = ref('');\n    const purchase_price = ref('');\n    const replace_guaranty = ref('');\n    const max_delivary_days = ref('');\n    const upsells = ref('');\n    const cross_sells = ref('');\n    const purchase_note = ref('');\n    const enable_reviews = ref('');\n    const manage_stock = ref('');\n    const shippingCoast = ref('');\n    const selectedCategory = ref('');\n    const selectedBrand = ref('');\n    onMounted(async () => {\n      const productInfo = await productApi.getInfo(route.params.id); // console.log(selectedCategory.value)\n\n      product.value = productInfo.data.data;\n      console.log(product.value);\n      selectedCategory.value = product.value.category.name;\n      selectedBrand.value = product.value.brand.name;\n      console.log(selectedCategory.value);\n      product_name.value = product.value.product_name;\n      product_description.value = product.value.product_description;\n      unit.value = product.value.units;\n      regular_price.value = product.value.reqular_price;\n      sale_price.value = product.value.sale_price;\n      purchase_price.value = product.value.purchase_price;\n      replace_guaranty.value = product.value.productinfo.replace_guaranty;\n      max_delivary_days.value = product.value.productinfo.max_delivary_days;\n      upsells.value = product.value.productinfo.upsells;\n      cross_sells.value = product.value.productinfo.cross_sells;\n      enable_reviews.value = product.value.productinfo.enable_reviews;\n      manage_stock.value = product.value.productinfo.manage_stock;\n      shippingCoast.value = product.value.productinfo.shipping_coast;\n      purchase_note.value = product.value.productinfo.purchase_note;\n      enable_reviews.value = product.value.productinfo.enable_reviews;\n\n      for (let j = 0; j < product.value.productinfo.inventroy_sku.length; j++) {\n        inventory.push({\n          sku: product.value.productinfo.inventroy_sku[j],\n          size: product.value.productinfo.inventroy_size[j],\n          price: product.value.productinfo.inventroy_price[j],\n          weight: product.value.productinfo.inventroy_weight[j]\n        });\n      }\n\n      for (let j = 0; j < product.value.productinfo.inputs_length.length; j++) {\n        inputs.push({\n          length: product.value.productinfo.inputs_length[j],\n          width: product.value.productinfo.inputs_width[j],\n          height: product.value.productinfo.inputs_height[j],\n          unit: product.value.productinfo.inputs_unit[j]\n        });\n      }\n    });\n    const category_id = ref(0);\n\n    const displayToCategory = async event => {\n      if (event != 'Category') {\n        category_id.value = event;\n        await subCategories(event);\n        Validations['category'](category_id.value, 'Category is required');\n      } else {\n        category_id.value = 0;\n      }\n    };\n\n    const {\n      Validations,\n      errorMsg\n    } = Validation();\n    watch(product_name, value => {\n      Validations['text'](value, 'Product name is required', 'Product Name minimum length 5 characters', 5);\n    });\n    watch(product_description, value => {\n      Validations['description'](value, 'Product Description is required', 'Product Description minimum length 20 characters', 20);\n    });\n    watch(unit, value => {\n      Validations['unit'](value, 'Product Unit is required');\n    });\n    watch(regular_price, value => {\n      Validations['rprice'](value, 'Regular pirce is required');\n    });\n    watch(sale_price, value => {\n      Validations['sprice'](value, 'Sale price is required');\n    }); //  watch(category_id, (value)=>{\n    //     if(value == 0){\n    //     Validations['category'](value, 'Sale price is required');\n    //     }\n    // });\n\n    const loading = ref(false);\n\n    const productEditSubmit = async () => {\n      loading.value = true;\n      Validations['text'](product_name.value, 'Product name is required', 'Product Name minimum length 5 characters', 5);\n      Validations['description'](product_description.value, 'Product Description is required', 'Product Description minimum length 20 characters', 20);\n      Validations['unit'](unit.value, 'Product Unit is required');\n      Validations['rprice'](regular_price.value, 'Regular pirce is required');\n      Validations['sprice'](sale_price.value, 'Sale price is required');\n\n      if (category_id.value == 0) {\n        Validations['category'](category_id.value, 'Category is required');\n      }\n\n      if (brand_id.value == 0) {\n        Validations['brand'](brand_id.value, 'Brand is required');\n      }\n\n      const form = new FormData();\n      form.append('product_name', product_name.value);\n      form.append('product_description', product_description.value);\n      form.append('unit', unit.value);\n      form.append('regular_price', regular_price.value);\n      form.append('sale_price', sale_price.value);\n      form.append('purchase_price', purchase_price.value);\n      form.append('replace_guaranty', replace_guaranty.value);\n      form.append('max_delivary_days', max_delivary_days.value);\n      form.append('upsells', upsells.value);\n      form.append('cross_sells', cross_sells.value);\n      form.append('purchase_note', purchase_note.value);\n      form.append('enable_reviews', enable_reviews.value);\n\n      for (var i = 0; i < inventory.length; i++) {\n        form.append('inventroy_sku[]', inventory[i].sku);\n        form.append('inventroy_size[]', inventory[i].size);\n        form.append('inventroy_price[]', inventory[i].price);\n        form.append('inventroy_weight[]', inventory[i].weight);\n      }\n\n      for (var i = 0; i < inputs.length; i++) {\n        form.append('inputs_length[]', inputs[i].length);\n        form.append('inputs_width[]', inputs[i].width);\n        form.append('inputs_height[]', inputs[i].height);\n        form.append('inputs_unit[]', inputs[i].unit);\n      }\n\n      form.append('manage_stock', manage_stock.value);\n      form.append('category_id', category_id.value);\n      form.append('sub_category_id', sub_category_id.value);\n      form.append('brand_id', brand_id.value);\n      form.append('tags', tags.value);\n      form.append('feature_image', feature_image_get.value);\n\n      for (var i = 0; i < image_gallaries.value.length; i++) {\n        form.append('gallary_image[]', image_gallaries.value[i]);\n      }\n\n      if (errorMsg['product_name'] == '' && errorMsg['product_description'] == '' && errorMsg['unit'] == '' && errorMsg['rprices'] == '' && errorMsg['sprices'] == '' && errorMsg['category'] == '' && errorMsg['brand'] == '') {\n        const product = await productApi.create(form);\n\n        if (product.data.success) {\n          loading.value = false;\n          const payload = {\n            type: 'success',\n            message: product.data.success\n          };\n          store.dispatch('addNotification', payload);\n        }\n      } else {\n        loading.value = false;\n      }\n    };\n\n    return {\n      categoryOpen,\n      brandList,\n      displayToBrand,\n      brand_id,\n      opencategory,\n      displayToCommunity,\n      img_url,\n      ImgChange,\n      ImgRemove,\n      productCategorySubmit,\n      categoryList,\n      image,\n      cat_name,\n      cat_description,\n      brand_name,\n      brand_description,\n      openbrand,\n      brandOpen,\n      productBrandSubmit,\n      feature_image_url,\n      featureImage,\n      featureImgRemove,\n      galleryImageChange,\n      image_gallaries,\n      image_gallary_url,\n      imageLength,\n      tagSubmit,\n      tags,\n      tag,\n      tagkeyPress,\n      inputs,\n      add,\n      remove,\n      inventory,\n      addInventory,\n      removeInventory,\n      gallaryImgRemove,\n      displayToCategory,\n      category_id,\n      sub_category_id,\n      displayToSubCategory,\n      subCategoryList,\n      productEditSubmit,\n      product_name,\n      product_description,\n      unit,\n      regular_price,\n      sale_price,\n      purchase_price,\n      replace_guaranty,\n      max_delivary_days,\n      upsells,\n      cross_sells,\n      purchase_note,\n      enable_reviews,\n      manage_stock,\n      errorMsg,\n      loading,\n      product,\n      selectedCategory,\n      selectedBrand,\n      FeatureImageNow,\n      transformImgExt\n    };\n  },\n\n  data() {\n    return {\n      communities: []\n    };\n  },\n\n  methods: {\n    openShortSlide(evt, slideName) {\n      var i, x, tablinks;\n      x = document.getElementsByClassName(\"cnt_txt\");\n\n      for (i = 0; i < x.length; i++) {\n        x[i].style.display = \"none\";\n      }\n\n      tablinks = document.getElementsByClassName(\"tablink\");\n\n      for (i = 0; i < x.length; i++) {\n        tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\n      }\n\n      document.getElementById(slideName).style.display = \"block\";\n\n      if (slideName == 'General') {\n        document.getElementById('Generalbt').classList.add(\"active\");\n      } else if (slideName == 'Inventory') {\n        document.getElementById('Inventorybt').classList.add(\"active\");\n      } else if (slideName == 'Shipping') {\n        document.getElementById('Shippingbt').classList.add(\"active\");\n      } else if (slideName == 'LinkedProducts') {\n        document.getElementById('LinkedProductsbt').classList.add(\"active\");\n      } else if (slideName == 'Attributes') {\n        document.getElementById('Attributesbt').classList.add(\"active\");\n      } else if (slideName == 'Advanced') {\n        document.getElementById('Advancedbt').classList.add(\"active\");\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["getHelpers","ref","watch","reactive","onMounted","categoryApi","productApi","useStore","brandApi","Validation","useRoute","setup","route","store","image","cat_name","cat_description","brand_name","brand_description","product","displayToCommunity","event","console","log","brand","error","brandList","categories","categoryList","subCategories","subCategoryList","openbrand","brandOpen","value","productBrandSubmit","form","FormData","append","brands","create","data","success","payload","type","message","dispatch","img_url","opencategory","categoryOpen","FeatureImageNow","feature_image","transformImgExt","webpSupported","url","replace","productCategorySubmit","category_id","categoriess","ImgChange","URL","createObjectURL","target","files","f","fileName","name","split","img","Image","src","size","onload","canvas","document","createElement","width","height","ctx","getContext","drawImage","toBlob","blob","f2","File","ImgRemove","feature_image_url","feature_image_get","featureImage","featureImgRemove","image_gallaries","image_gallary_url","imageLength","galleryImageChange","length","i","push","Math","random","toString","substr","alert","gallaryImgRemove","tags","tag","tagSubmit","includes","tagkeyPress","inputs","add","unit","remove","index","splice","inventory","addInventory","sku","price","weight","removeInventory","sub_category_id","displayToSubCategory","brand_id","displayToBrand","Validations","product_name","product_description","regular_price","sale_price","purchase_price","replace_guaranty","max_delivary_days","upsells","cross_sells","purchase_note","enable_reviews","manage_stock","shippingCoast","selectedCategory","selectedBrand","productInfo","getInfo","params","id","category","units","reqular_price","productinfo","shipping_coast","j","inventroy_sku","inventroy_size","inventroy_price","inventroy_weight","inputs_length","inputs_width","inputs_height","inputs_unit","displayToCategory","errorMsg","loading","productEditSubmit","communities","methods","openShortSlide","evt","slideName","x","tablinks","getElementsByClassName","style","display","className","getElementById","classList"],"sourceRoot":"","sources":["F:\\xampp\\htdocs\\softcode\\softvue\\src\\modules\\admin\\view\\product\\product\\ProductsEditPage.vue"],"sourcesContent":["<template>\r\n    <div class=\"product_page\">\r\n        <div class=\"page_setup\">\r\n            <h4 class=\"heading\">Edit product</h4>\r\n            <form class=\"form_data\" @submit.prevent=\"productSubmit\" enctype=\"multipart/form-data\">\r\n                <div class=\"left\">\r\n                    <div class=\"_top\">\r\n                        <div class=\"mb_5\">\r\n                            <base-input :star=\"true\" :validation=\"errorMsg['product_name']\" v-model=\"product_name\" label=\"Product Title\" placeholder=\"Product Title\"></base-input>\r\n                        </div>\r\n                        <div class=\"mb_2\">\r\n                            <base-textarea :star=\"true\" :validation=\"errorMsg['product_description']\" v-model=\"product_description\" rowNum=\"16\" label=\"Product Description\" placeholder=\"Product Description\"></base-textarea>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"_bottom\">\r\n                        <div class=\"_head\">\r\n                            <h4>Form Data</h4>\r\n                        </div>\r\n                        <div class=\"_body\">\r\n                            <div class=\"_left\">\r\n                                <button type=\"button\" id=\"Generalbt\" class=\"tablink active\"\r\n                                    @click=\"openShortSlide(this,'General')\">General</button>\r\n                                <button type=\"button\" id=\"Inventorybt\" class=\"tablink\"\r\n                                    @click=\"openShortSlide(this,'Inventory')\">Inventory</button>\r\n                                <button type=\"button\" id=\"Shippingbt\" class=\"tablink\"\r\n                                    @click=\"openShortSlide(this,'Shipping')\">Shipping</button>\r\n                                <button type=\"button\" id=\"LinkedProductsbt\" class=\"tablink\"\r\n                                    @click=\"openShortSlide(this,'LinkedProducts')\">Linked Products</button>\r\n                              \r\n                                <button type=\"button\" id=\"Advancedbt\" class=\"tablink\"\r\n                                    @click=\"openShortSlide(this,'Advanced')\">Advanced</button>\r\n                            </div>\r\n                            <div class=\"_right\">\r\n                                <div class=\"content\">\r\n                                    <div id=\"General\" class=\"text cnt_txt\">\r\n                                        <div class=\"mb_2\">\r\n                                            <base-input type=\"number\" :star=\"true\" :validation=\"errorMsg['unit']\" divClass=\"d-flex\" v-model=\"unit\" label=\"Unit\" labelClass=\"w_200\" placeholder=\"Unit\"\r\n                                                classValue=\"w_400\"></base-input>\r\n                                        </div>\r\n                                        <div class=\"mb_2\">\r\n                                            <base-input divClass=\"d-flex\" \r\n                                            :star=\"true\" :validation=\"errorMsg['rprices']\" v-model=\"regular_price\" label=\"Regular price (TK)\" labelClass=\"w_200\" placeholder=\"Regular Price (TK)\"\r\n                                                classValue=\"w_400\"></base-input>\r\n                                        </div>\r\n                                        <div class=\"mb_2\">\r\n                                            <base-input divClass=\"d-flex\" :star=\"true\" :validation=\"errorMsg['sprices']\"  v-model=\"sale_price\" label=\"Sale price (TK)\" labelClass=\"w_200\" placeholder=\"Sale Price (TK)\"\r\n                                                classValue=\"w_400\"></base-input>\r\n                                        </div>\r\n\r\n                                         <div class=\"mb_2\">\r\n                                            <base-input divClass=\"d-flex\" v-model=\"purchase_price\" label=\"Purchase price (TK)\" labelClass=\"w_200\" placeholder=\"Purchase Price (TK)\"\r\n                                                classValue=\"w_400\"></base-input>\r\n                                        </div>\r\n\r\n                                         <div class=\"mb_2\">\r\n                                            <base-input divClass=\"d-flex\" v-model=\"replace_guaranty\" label=\"Replace Guaranty\" labelClass=\"w_200\" placeholder=\"Replace Guaranty\"\r\n                                                classValue=\"w_400\"></base-input>\r\n                                        </div>\r\n\r\n                                         <div class=\"mb_2\">\r\n                                            <base-input divClass=\"d-flex\" v-model=\"max_delivary_days\" label=\"Max Delivery Days\" labelClass=\"w_200\" placeholder=\"Max Delivery Days\"\r\n                                                classValue=\"w_400\"></base-input>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div id=\"Inventory\" class=\"text cnt_txt\" style=\"display:none\">\r\n                                        <!-- add -->\r\n                                        <div class=\"vue_input input_grp\">\r\n\r\n                                            <div class=\"_grp mb_4\" v-for=\"(input,k) in inventory\" :key=\"k\">\r\n\r\n                                                <div class=\"_l\">\r\n                                                    <base-input v-model=\"input.sku\" type=\"text\" divClass=\"d-flex\" labelClass=\"\" classValue=\"\" placeholder=\"SKU\"></base-input>\r\n\r\n                                                    <base-input v-model=\"input.size\" type=\"text\" divClass=\"d-flex\" labelClass=\"\" classValue=\"\" placeholder=\"Size\"></base-input>\r\n\r\n                                                    <base-input v-model=\"input.price\" type=\"text\" divClass=\"d-flex\" labelClass=\"\" classValue=\"\" placeholder=\"Price\"></base-input>\r\n\r\n                                                    <base-input v-model=\"input.weight\" type=\"text\" divClass=\"d-flex\" labelClass=\"\" classValue=\"\" placeholder=\"Weight\"></base-input>\r\n                                                </div>\r\n\r\n\r\n                                                <div class=\"_r\">\r\n                                                    <base-button type=\"button\" small=\"bg_c\" v-show=\"k < inventory.length-1 || ( !k && inventory.length > 1)\"\r\n                                                        @click=\"removeInventory(k)\">-\r\n                                                    </base-button>\r\n                                                    <base-button type=\"button\" @click=\"addInventory(k)\" v-show=\"k == inventory.length-1\">+\r\n                                                    </base-button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"mb_2 brdr_t mt_5\">\r\n                                            <base-checkbox divClass=\"d-flex\" v-model=\"manage_stock\" id=\"manage_stock\" label=\"Manage stock?\" labelClass=\"w_200\"\r\n                                                classValue=\"w_400\"\r\n                                                checkboxTxt=\"Enable stock management at product level\"></base-checkbox>\r\n                                        </div>\r\n                                       \r\n                                    \r\n                                    </div>\r\n\r\n                                    <div id=\"Shipping\" class=\"text cnt_txt\" style=\"display:none\">\r\n                                        <div class=\"mb_2\">\r\n                                            <base-input divClass=\"d-flex\" label=\"Shipping Coast\" labelClass=\"w_200\"\r\n                                                classValue=\"w_400\" placeholder=\"Shipping Coast\"></base-input>\r\n                                        </div>\r\n                                        <div class=\"mb_2\">\r\n                                            <div class=\"vue_input input_grp\">\r\n                                                <label for=\"\">Dimensions (cm)</label>\r\n                                                <!-- add -->\r\n                                                <div class=\"_grp mb_4\" v-for=\"(input,k) in inputs\" :key=\"k\">\r\n                                                    <div class=\"_l\">\r\n                                                        <base-input v-model=\"input.length\" type=\"text\" divClass=\"d-flex\" labelClass=\"\" classValue=\"\" placeholder=\"Length\"></base-input>\r\n\r\n                                                        <base-input v-model=\"input.width\" type=\"text\" divClass=\"d-flex\" labelClass=\"\" classValue=\"\" placeholder=\"Width\"></base-input>\r\n\r\n                                                        <base-input v-model=\"input.height\" type=\"text\" divClass=\"d-flex\" labelClass=\"\" classValue=\"\" placeholder=\"Height\"></base-input>\r\n\r\n                                                        <base-input v-model=\"input.unit\" type=\"text\" divClass=\"d-flex\" labelClass=\"\" classValue=\"\" placeholder=\"Unit\"></base-input>\r\n                                                    </div>\r\n                                                    <div class=\"_r\">\r\n                                                        <base-button type=\"button\" small=\"bg_c\" v-show=\"k < inputs.length-1 || ( !k && inputs.length > 1)\"\r\n                                                            @click=\"remove(k)\">-\r\n                                                        </base-button>\r\n                                                        <base-button type=\"button\" @click=\"add(k)\" v-show=\"k == inputs.length-1\">+\r\n                                                        </base-button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        \r\n                                       \r\n                                    </div>\r\n\r\n                                    <div id=\"LinkedProducts\" class=\"text cnt_txt\" style=\"display:none\">\r\n                                        <div class=\"mb_2\">\r\n                                            <base-input divClass=\"d-flex\" v-model=\"upsells\" label=\"Upsells\" labelClass=\"w_200\"\r\n                                                classValue=\"w_400\" placeholder=\"Upsells\"></base-input>\r\n                                        </div>\r\n                                        <div class=\"mb_2\">\r\n                                            <base-input divClass=\"d-flex\" v-model=\"cross_sells\" label=\"Cross-sells\"  labelClass=\"w_200\"\r\n                                                classValue=\"w_400\" placeholder=\"Crose Sells\"></base-input>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                \r\n\r\n                                    <div id=\"Advanced\" class=\"text cnt_txt\" style=\"display:none\">\r\n                                        <div class=\"mb_2\">\r\n                                            <base-textarea divClass=\"d-flex\" v-model=\"purchase_note\" label=\"Purchase note\" placeholder=\"Purchase note\" labelClass=\"w_200\"\r\n                                                classValue=\"w_400\" rowNum=\"3\"></base-textarea>\r\n                                        </div>\r\n                                        \r\n                                        <div class=\"mb_2 brdr_t mt_5\">\r\n                                            <base-checkbox id=\"reviews\" v-model=\"enable_reviews\" divClass=\"d-flex\" label=\"Enable reviews\" labelClass=\"w_200\"\r\n                                                classValue=\"w_400\"></base-checkbox>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"right\">\r\n                    <div class=\"page_sidebar\">\r\n                        <div class=\"publish step mh\">\r\n                            <div class=\"_head\">\r\n                                <div class=\"title\">Publish</div>\r\n                            </div>\r\n                            <div class=\"_body\">\r\n                                <base-button small=\"boder_radius1 fs_1\"><base-loading2  v-if=\"loading\"></base-loading2> Submit</base-button>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"category step\">\r\n                            <div class=\"_head\">\r\n                                <div class=\"title\">Categories</div>\r\n                            </div>\r\n                            <div class=\"_body\">\r\n                                <div class=\"mb_2\">\r\n                                    <BaseSelect  \r\n                                            label=\"Category\"\r\n                                            :options=\"categoryList\"\r\n                                            :default=\"selectedCategory\"\r\n                                            class=\"select\"\r\n                                            :star=\"true\" \r\n                                            :validation=\"errorMsg['category']\"\r\n                                            @input=\"displayToCategory($event)\"\r\n                                        \r\n                                        />\r\n                                </div>\r\n                                <div class=\"mb_2\">\r\n                                     <BaseSelect \r\n                                        label=\"Sub Category\"\r\n                                            :options=\"subCategoryList\"\r\n                                            :default=\"'Sub Category'\"\r\n                                            class=\"select\"\r\n                                            @input=\"displayToSubCategory($event)\"\r\n                                        \r\n                                        />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"_foot\">\r\n                                <span>\r\n                                    <router-link to=\"\" @click=\"categoryOpen\" class=\"link\">+ Add New Category</router-link>\r\n\r\n\r\n                                    <form @submit.prevent=\"productCategorySubmit\">\r\n                                    <base-modal v-if=\"opencategory\" @close=\"opencategory = false\">\r\n                                    <template #header>\r\n                                        Add Category\r\n                                    </template>\r\n\r\n                                    <template #default >\r\n                                        <div class=\"mb_3\">\r\n                                          <base-input v-model=\"cat_name\" label=\"Name\" placeholder=\"name\"></base-input>\r\n                                        </div>\r\n\r\n                                         <div class=\"mb_3\">\r\n                                           <BaseSelect \r\n                                            label=\"Category\"\r\n                                            :options=\"categoryList\"\r\n                                            :default=\"'Category'\"\r\n                                            class=\"select\"\r\n                                           \r\n                                            @input=\"displayToCategory($event)\"\r\n                                        \r\n                                        />\r\n                                        </div>\r\n\r\n\r\n                                        <div class=\"mb_3\">\r\n                                            <base-textarea v-model=\"cat_description\" label=\"Description\" rowNum=\"6\" placeholder=\"description\"></base-textarea>\r\n                                        </div>\r\n\r\n                                         <div class=\"mb_3\">\r\n                                        <div class=\"thumbnail\">\r\n                                                <div class=\"img\">\r\n                                                    <div v-if=\"img_url != ''\" class=\"remove_btn\" @click=\"ImgRemove\">X</div>\r\n                                                    <img v-if=\"img_url == ''\" src=\"@/assets/admin/dummy-img.png\" alt=\"Thumbnail\">\r\n                                                    <img v-else :src=\"img_url\" alt=\"Thumbnail\">\r\n                                                </div>\r\n                                                <button type=\"button\" class=\"btn btn_border btn_sm\" @click=\"$refs.file.click()\">Upload/Add\r\n                                                    image</button>\r\n                                                <input type=\"file\" ref=\"file\" class=\"d_none\" @change=\"ImgChange($event)\">\r\n                                            </div>\r\n                                        </div>\r\n                                    </template>\r\n                                    <template #actions>\r\n                                        <base-button @click=\"productCategorySubmit\" type=\"submit\">\r\n                                            Submit\r\n                                        </base-button>\r\n                                    </template>\r\n                                    \r\n                                    </base-modal>\r\n                                    </form>\r\n\r\n\r\n\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"brand step\">\r\n                            <div class=\"_head\">\r\n                                <div class=\"title\">Brands</div>\r\n                            </div>\r\n                            <div class=\"_body\">\r\n                                <div class=\"mb_2\">\r\n                                     <BaseSelect \r\n                                        label=\"Brand\"\r\n                                            :options=\"brandList\"\r\n                                            :default=\"selectedBrand\"\r\n                                            class=\"select\"\r\n                                             :star=\"true\" \r\n                                            :validation=\"errorMsg['brand']\"\r\n                                            @input=\"displayToBrand($event)\"\r\n                                        \r\n                                        />\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"_foot\">\r\n                                <span>\r\n                                    <router-link to=\"\" @click=\"brandOpen\" class=\"link\">+ Add New Brand</router-link>\r\n                                </span>\r\n\r\n                                  <form @submit.prevent=\"productCategorySubmit\">\r\n                                    <base-modal v-if=\"openbrand\" @close=\"openbrand = false\">\r\n                                    <template #header>\r\n                                        Add Brand\r\n                                    </template>\r\n\r\n                                    <template #default >\r\n                                        <div class=\"mb_3\">\r\n                                          <base-input v-model=\"brand_name\" label=\"Name\" placeholder=\"name\"></base-input>\r\n                                        </div>\r\n                                       \r\n                                        <div class=\"mb_3\">\r\n                                            <base-textarea v-model=\"brand_description\" label=\"Description\" rowNum=\"6\" placeholder=\"description\"></base-textarea>\r\n                                        </div>\r\n\r\n                                         <div class=\"mb_3\">\r\n                                        <div class=\"thumbnail\">\r\n                                                <div class=\"img\">\r\n                                                    <div v-if=\"img_url != ''\" class=\"remove_btn\" @click=\"ImgRemove\">X</div>\r\n                                                    <img v-if=\"img_url == ''\" :src=\"product.feature_image\" alt=\"Thumbnail\">\r\n                                                    <img v-else :src=\"img_url\" alt=\"Thumbnail\">\r\n                                                </div>\r\n                                                <button type=\"button\" class=\"btn btn_border btn_sm\" @click=\"$refs.file.click()\">Upload/Add\r\n                                                    image</button>\r\n                                                <input type=\"file\" ref=\"file\" class=\"d_none\" @change=\"ImgChange($event)\">\r\n                                            </div>\r\n                                        </div>\r\n                                    </template>\r\n                                    <template #actions>\r\n                                        <base-button @click=\"productBrandSubmit\" type=\"submit\">\r\n                                            Submit\r\n                                        </base-button>\r\n                                    </template>\r\n                                    \r\n                                    </base-modal>\r\n                                    </form>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"tags step\">\r\n                            <div class=\"_head\">\r\n                                <div class=\"title\">Tags</div>\r\n                            </div>\r\n                            <div class=\"_body\">\r\n                                <div class=\"mb_2 _lr\">\r\n                                    <base-input label=\"Tags\" v-model=\"tag\" placeholder=\"Tags\" @keypress.enter.prevent=\"tagkeyPress\"></base-input>\r\n                                    <base-button @click=\"tagSubmit\" style=\"line-height: 38px;\" type=\"button\" class=\"boder_radius1 btn-border\">Add</base-button>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"_foot\">\r\n                                <ul class=\"items\">\r\n                                    <li class=\"item\" v-for=\" tag in tags\" :key=\"tag\">#{{tag}}</li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"feature_img step\">\r\n                            <div class=\"_head\">\r\n                                <div class=\"title\">Image</div>\r\n                            </div>\r\n                            <div class=\"_body\">\r\n                                <div class=\"img_set\">\r\n                                     \r\n                                <div v-if=\"feature_image_url != ''\" class=\"remove_btn\" @click=\"featureImgRemove\">X</div>\r\n                                <img v-if=\"feature_image_url == ''\" :src=\"product.feature_image\" alt=\"Thumbnail\">\r\n                                <img v-else :src=\"feature_image_url\" alt=\"Thumbnail\">\r\n                        \r\n                                </div>\r\n                                <input style=\"opacity:0\" type=\"file\" ref=\"image\" @change=\"featureImage($event)\">\r\n                                <span>\r\n                                    <router-link to=\"\" @click=\"$refs.image.click()\" class=\"link\">Set product image</router-link>\r\n                                </span>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                         <div class=\"feature_img step\">\r\n                            <div class=\"_head\">\r\n                                <div class=\"title\">Gallary Image</div>\r\n                            </div>\r\n                            <div class=\"_body\">\r\n                                <div class=\"img_set img_set_gallary\" style=\"min-width:100%;\">\r\n\r\n                                    <div style=\"min-width:100%\" v-if=\"image_gallary_url && imageLength <= 4 && imageLength != 0\">\r\n                                        <div style=\"min-width:25%; float:left; width:25%;\" v-for=\"(img, index) in imageLength\" :key=\"img\">\r\n                                        <!-- <img v-if=\"feature_image_url == ''\" src=\"@/assets/admin/dummy-img.png\" alt=\"Thumbnail\"> -->\r\n                                        <img style=\" float:left; width: 100%;\" :src=\"image_gallary_url[index]\" alt=\"Thumbnail\">\r\n                                        </div>\r\n                                         <div class=\"remove_btn_galary\" @click=\"gallaryImgRemove\">X</div>\r\n                                    </div>\r\n                                    <div else style=\"float:left; max-width: 100%\">\r\n                                        <img style=\"min-width: 25%; float:left; padding:3px;\" v-if=\"image_gallary_url == ''\" src=\"@/assets/admin/dummy-img.png\" alt=\"Thumbnail\">\r\n                                        <img style=\"min-width: 25%; float:left; padding:3px;\" v-if=\"image_gallary_url == ''\" src=\"@/assets/admin/dummy-img.png\" alt=\"Thumbnail\">\r\n                                        <img style=\"min-width: 25%; float:left; padding:3px;\" v-if=\"image_gallary_url == ''\" src=\"@/assets/admin/dummy-img.png\" alt=\"Thumbnail\">\r\n                                        <img style=\"min-width: 25%; float:left; padding:3px;\" v-if=\"image_gallary_url == ''\" src=\"@/assets/admin/dummy-img.png\" alt=\"Thumbnail\">\r\n                                    </div>\r\n                                   \r\n                                   \r\n                                   \r\n                                   \r\n                                </div>\r\n                                <input style=\"opacity:0\" type=\"file\" multiple ref=\"image_gallary\" @change=\"galleryImageChange($event)\">\r\n                                <span>\r\n                                    <router-link to=\"\" @click=\"$refs.image_gallary.click()\" class=\"link\">Set Gallary image</router-link>\r\n                                </span>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div class=\"tags\"></div>\r\n                        <div class=\"mt_3 ms\">\r\n                            <base-button small=\"boder_radius1 fs_1\">Submit</base-button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport getHelpers from '../helpers/getHelpers';\r\nimport {ref, watch, reactive, onMounted } from \"vue\";\r\nimport categoryApi from '../category/composible/category-api';\r\nimport productApi from '../product/composible/product-api'\r\nimport { useStore } from 'vuex';\r\nimport brandApi from '../brand/composible/brand-api';\r\nimport Validation from '@/Helpers/helpers';\r\nimport {useRoute} from 'vue-router';\r\n\r\nexport default {\r\n\r\n    setup() {\r\n\r\n\r\n        const route = useRoute();\r\n        const store = useStore();\r\n        const image = ref('');\r\n        const cat_name = ref('');\r\n        const cat_description = ref('');\r\n        const brand_name = ref('');\r\n        const brand_description = ref('');\r\n        const product = ref('');\r\n\r\n\r\n        const displayToCommunity = (event) =>{\r\n            console.log(event)\r\n        }\r\n\r\n      \r\n\r\n\r\n        //get helps section\r\n        const {brand, error, brandList, categories, categoryList, subCategories, subCategoryList} = getHelpers();\r\n\r\n        onMounted( async() =>{\r\n            await brand();\r\n            await categories();\r\n          \r\n\r\n        });\r\n\r\n\r\n\r\n        //brand section\r\n        //category section \r\n        const openbrand = ref(false);\r\n        const brandOpen = () =>{\r\n            openbrand.value = true;\r\n        }\r\n\r\n        const productBrandSubmit = async () =>{\r\n             const form =  new FormData();\r\n                form.append(\"image\", image.value);\r\n                form.append(\"name\", brand_name.value);\r\n                form.append(\"description\", brand_description.value);\r\n                 const brands = await brandApi.create(form);\r\n\r\n                 if(brands.data.success){\r\n                    const payload = {\r\n                        type: 'success',\r\n                        message: brands.data.success\r\n                    }\r\n                    store.dispatch('addNotification', payload);\r\n                    await brand();\r\n                    openbrand.value = false;\r\n                    brand_name.value = '';\r\n                    brand_description.value = '';\r\n                    img_url.value = '';\r\n                 }\r\n        }\r\n\r\n\r\n\r\n        //category section  start\r\n        const opencategory = ref(false);\r\n        const categoryOpen = () =>{\r\n            opencategory.value = true;\r\n        }\r\n        const FeatureImageNow = product.value.feature_image;\r\n        const  transformImgExt =  (FeatureImageNow) => {\r\n      // If webp is supported, transform the url\r\n            if (this.webpSupported) {\r\n                return url.replace(/\\.\\w{1,5}$/, \".webp\");\r\n            } else { // Otherwise, just return the original\r\n                return url;\r\n            }\r\n            };\r\n\r\n            const webpSupported = () =>{\r\n\r\n            }\r\n\r\n        const productCategorySubmit = async () =>{\r\n            console.log('ok')\r\n\r\n             const form =  new FormData();\r\n                form.append(\"image\", image.value);\r\n                form.append(\"name\", cat_name.value);\r\n                form.append(\"description\", cat_description.value);\r\n                form.append(\"category_id\", category_id.value);\r\n                const categoriess = await categoryApi.create(form);\r\n\r\n                 if(categoriess.data.success){\r\n                    const payload = {\r\n                        type: 'success',\r\n                        message: categoriess.data.success\r\n                    }\r\n                    store.dispatch('addNotification', payload);\r\n\r\n                    await categories();\r\n                    opencategory.value = false;\r\n                    cat_name.value = '';\r\n                    cat_description.value = '';\r\n                    img_url.value = '';\r\n                 }\r\n        };\r\n\r\n         const img_url = ref('');\r\n        const ImgChange = (event) => {\r\n            img_url.value = URL.createObjectURL(event.target.files[0]);\r\n\r\n             var f = event.target.files[0];\r\n               \r\n                var fileName = f.name.split('.')[0];\r\n                var img = new Image();\r\n                img.src = URL.createObjectURL(f);\r\n                if(f.size >=  100006){\r\n                     img.onload = function(){\r\n                    var canvas = document.createElement('canvas');\r\n                    canvas.width = img.width;\r\n                    canvas.height = img.height;\r\n                    var ctx = canvas.getContext('2d');\r\n                    ctx.drawImage(img, 0, 0);\r\n                    canvas.toBlob(function(blob){\r\n                            var f2 = new File([blob], fileName + \".webp\");\r\n                            image.value = f2;\r\n                       \r\n                    }, 'image/webp', 0.00001);\r\n                }\r\n                }else{\r\n                     img.onload = function(){\r\n                    var canvas = document.createElement('canvas');\r\n                    canvas.width = img.width;\r\n                    canvas.height = img.height;\r\n                    var ctx = canvas.getContext('2d');\r\n                    ctx.drawImage(img, 0, 0);\r\n                    canvas.toBlob(function(blob){\r\n                            var f2 = new File([blob], fileName + \".webp\");\r\n                            image.value = f2;\r\n                       \r\n                    }, 'image/webp', 0.5);\r\n                    }\r\n                }\r\n\r\n\r\n\r\n        }\r\n        const ImgRemove = () => {\r\n            img_url.value = '';\r\n        }\r\n\r\n//end category section\r\n\r\n    const feature_image_url = ref('');\r\n    const feature_image_get = ref('');\r\n    \r\n    \r\n    const featureImage = (event)=>{\r\n         feature_image_url.value = URL.createObjectURL(event.target.files[0]);\r\n        \r\n          var f = event.target.files[0];\r\n               \r\n        var fileName = f.name.split('.')[0];\r\n      var img= new Image();\r\n        img.src = URL.createObjectURL(f);\r\n        if(f.size >=  100006){\r\n                img.onload = function(){\r\n            var canvas = document.createElement('canvas');\r\n            canvas.width = img.width;\r\n            canvas.height = img.height;\r\n            var ctx = canvas.getContext('2d');\r\n            ctx.drawImage(img, 0, 0);\r\n            canvas.toBlob(function(blob){\r\n                    var f2 = new File([blob], fileName + \".webp\");\r\n                    feature_image_get.value = f2;\r\n                \r\n            }, 'image/webp', 0.00001);\r\n        }\r\n        }else{\r\n                img.onload = function(){\r\n            var canvas = document.createElement('canvas');\r\n            canvas.width = img.width;\r\n            canvas.height = img.height;\r\n            var ctx = canvas.getContext('2d');\r\n            ctx.drawImage(img, 0, 0);\r\n            canvas.toBlob(function(blob){\r\n                    var f2 = new File([blob], fileName + \".webp\");\r\n                    feature_image_get.value = f2;\r\n                \r\n            }, 'image/webp', 0.5);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    const featureImgRemove = () =>{\r\n        feature_image_url.value = '';\r\n    }\r\n\r\n    const image_gallaries = ref([]);\r\n    const image_gallary_url = ref([]);\r\n    const imageLength = ref(0);\r\n\r\n    const galleryImageChange =(event) =>{\r\n        imageLength.value = event.target.files.length\r\n        if(imageLength.value<=4){\r\n             for (let i = 0; i< event.target.files.length; i++){\r\n            image_gallary_url.value.push(URL.createObjectURL(event.target.files[i]));\r\n            console.log(image_gallary_url.value);\r\n            \r\n            var f = event.target.files[i];\r\n               \r\n        // var fileName = f.name.split('.')[0];\r\n           var img = new Image();\r\n            img.src = URL.createObjectURL(f);\r\n            img.onload = function(){\r\n            var canvas = document.createElement('canvas');\r\n            canvas.width = img.width;\r\n            canvas.height = img.height;\r\n            var ctx = canvas.getContext('2d');\r\n            ctx.drawImage(img, 0, 0);\r\n            canvas.toBlob(function(blob){\r\n\r\n                 var fileName =Math.random().toString(36).replace(/[^a-z 0-9]+/g, '').substr(2);\r\n                    image_gallaries.value.push(new File([blob], fileName + \".webp\"));\r\n                    // console.log(image_gallaries.value);\r\n                \r\n            }, 'image/webp', 0.00001);\r\n          }\r\n\r\n         }\r\n        }else{\r\n            alert('Please select gallary Image Less then equal 4');\r\n        }\r\n       \r\n    }\r\n\r\n    const gallaryImgRemove = () =>{\r\n        image_gallary_url.value = ''\r\n         image_gallaries.value = '';\r\n         imageLength.value = 0;\r\n    }\r\n\r\n    const tags = ref([]);\r\n    const tag = ref('');\r\n    \r\n    const tagSubmit = ()=>{\r\n        if(!tags.value.includes(tag.value)){\r\n            tag.value = tag.value.replace(/\\s/, ''); // remove all white space\r\n            tags.value.push(tag.value);\r\n        }\r\n        tag.value = '';\r\n        console.log(tags.value);\r\n    }\r\n    const tagkeyPress = ()=>{\r\n        if(!tags.value.includes(tag.value)){\r\n            tag.value = tag.value.replace(/\\s/, ''); // remove all white space\r\n            tags.value.push(tag.value);\r\n        }\r\n        tag.value = '';\r\n        console.log(tags.value);\r\n    }\r\n\r\n\r\n        // Shipping Add row \r\n        const inputs = reactive([])\r\n\r\n        const add = () => {\r\n            inputs.push({ length: '', width: '', height: '', unit: '' });\r\n        }\r\n        const remove = (index) => {\r\n            inputs.splice(index, 1);\r\n        }\r\n\r\n        // Inventory Add\r\n        const inventory = reactive([])\r\n\r\n        const addInventory = () => {\r\n            inventory.push({ sku: '', size: '', price: '', weight: '' });\r\n        }\r\n        const removeInventory = (index) => {\r\n            inventory.splice(index, 1);\r\n        }\r\n\r\n\r\n\r\n        // Sub Category Add\r\n      \r\n\r\n        const sub_category_id = ref(0)\r\n        const displayToSubCategory =(event)=>{\r\n            if(event != 'Sub Category'){\r\n                sub_category_id.value = event;\r\n                 \r\n            }else{\r\n                sub_category_id.value = 0;\r\n            }\r\n            \r\n        }\r\n\r\n        const brand_id = ref(0)\r\n        const displayToBrand =(event)=>{\r\n            if(event != 'Brand'){\r\n                brand_id.value = event;\r\n                 Validations['brand'](brand_id.value, 'Brand is required');\r\n            }else{\r\n                brand_id.value = 0;\r\n            }\r\n            \r\n        }\r\n\r\n\r\n\r\n\r\n       \r\n\r\n        const product_name = ref('');\r\n        const product_description = ref('');\r\n        const unit = ref('');\r\n        const regular_price = ref('');\r\n        const sale_price = ref('');\r\n        const purchase_price = ref('');\r\n        const replace_guaranty = ref('');\r\n        const max_delivary_days = ref('');\r\n        const upsells = ref('');\r\n        const cross_sells = ref('');\r\n        const purchase_note = ref('');\r\n        const enable_reviews = ref('');\r\n        const manage_stock = ref('');\r\n        const shippingCoast = ref('');\r\n        const selectedCategory  = ref('');\r\n        const selectedBrand  = ref('');\r\n\r\n\r\n         onMounted(async () =>{\r\n\r\n           \r\n             const productInfo =await productApi.getInfo(route.params.id);\r\n            // console.log(selectedCategory.value)\r\n            product.value = productInfo.data.data;\r\n            console.log(product.value)\r\n           \r\n            selectedCategory.value = product.value.category.name;\r\n            selectedBrand.value = product.value.brand.name;\r\n\r\n\r\n            console.log( selectedCategory.value);\r\n            product_name.value = product.value.product_name;\r\n            product_description.value = product.value.product_description;\r\n            unit.value = product.value.units;\r\n            regular_price.value = product.value.reqular_price;\r\n            sale_price.value = product.value.sale_price;\r\n            purchase_price.value = product.value.purchase_price;\r\n            replace_guaranty.value = product.value.productinfo.replace_guaranty;\r\n            max_delivary_days.value = product.value.productinfo.max_delivary_days;\r\n            upsells.value = product.value.productinfo.upsells;\r\n            cross_sells.value = product.value.productinfo.cross_sells;\r\n            enable_reviews.value = product.value.productinfo.enable_reviews;\r\n            manage_stock.value = product.value.productinfo.manage_stock;\r\n            shippingCoast.value = product.value.productinfo.shipping_coast;\r\n            purchase_note.value = product.value.productinfo.purchase_note;\r\n            enable_reviews.value = product.value.productinfo.enable_reviews;\r\n           \r\n\r\n            for(let j  = 0; j< product.value.productinfo.inventroy_sku.length; j++){\r\n                inventory.push({sku:product.value.productinfo.inventroy_sku[j], size: product.value.productinfo.inventroy_size[j], price:product.value.productinfo.inventroy_price[j], weight: product.value.productinfo.inventroy_weight[j]})\r\n            }\r\n\r\n             for(let j  = 0; j < product.value.productinfo.inputs_length.length; j++){\r\n                inputs.push({length: product.value.productinfo.inputs_length[j], width:product.value.productinfo.inputs_width[j],height:product.value.productinfo.inputs_height[j],unit:product.value.productinfo.inputs_unit[j]  })\r\n             }\r\n\r\n        });\r\n\r\n          const category_id = ref(0)\r\n\r\n\r\n        const displayToCategory = async(event)=>{\r\n            if(event != 'Category'){\r\n                category_id.value = event;\r\n                  await subCategories(event);\r\n                Validations['category'](category_id.value, 'Category is required');\r\n            }else{\r\n                 category_id.value = 0;\r\n            }\r\n            \r\n        }\r\n\r\n\r\n         const {Validations,  errorMsg } = Validation();\r\n  \r\n        watch(product_name, (value)=>{\r\n        \r\n            Validations['text'](value, 'Product name is required', 'Product Name minimum length 5 characters', 5 );\r\n\r\n        });\r\n\r\n        watch(product_description, (value)=>{\r\n             Validations['description'](value, 'Product Description is required', 'Product Description minimum length 20 characters', 20 );\r\n\r\n        });\r\n\r\n          watch(unit, (value)=>{\r\n            Validations['unit'](value, 'Product Unit is required');\r\n\r\n        });\r\n\r\n          watch(regular_price, (value)=>{\r\n            Validations['rprice'](value, 'Regular pirce is required');\r\n\r\n        });\r\n\r\n        watch(sale_price, (value)=>{\r\n            Validations['sprice'](value, 'Sale price is required');\r\n\r\n        });\r\n\r\n        //  watch(category_id, (value)=>{\r\n        //     if(value == 0){\r\n        //     Validations['category'](value, 'Sale price is required');\r\n        //     }\r\n\r\n        // });\r\n\r\n\r\n         \r\n\r\n       \r\n            const loading = ref(false);\r\n\r\n        const productEditSubmit = async() =>{\r\n                loading.value = true;\r\n                Validations['text']( product_name.value, 'Product name is required', 'Product Name minimum length 5 characters', 5);\r\n                Validations['description']( product_description.value, 'Product Description is required', 'Product Description minimum length 20 characters', 20);\r\n                   \r\n                  Validations['unit'](unit.value, 'Product Unit is required');\r\n                  Validations['rprice'](regular_price.value, 'Regular pirce is required');\r\n                  Validations['sprice'](sale_price.value, 'Sale price is required');\r\n                  if(category_id.value == 0){\r\n                    Validations['category'](category_id.value, 'Category is required');\r\n                  }\r\n\r\n                  if(brand_id.value == 0){\r\n                    Validations['brand'](brand_id.value, 'Brand is required');\r\n                  }\r\n        \r\n\r\n            const form =  new FormData();\r\n\r\n\r\n            form.append('product_name', product_name.value);\r\n            form.append('product_description', product_description.value);\r\n            form.append('unit', unit.value);\r\n            form.append('regular_price', regular_price.value);\r\n            form.append('sale_price', sale_price.value);\r\n            form.append('purchase_price', purchase_price.value);\r\n            form.append('replace_guaranty', replace_guaranty.value);\r\n            form.append('max_delivary_days', max_delivary_days.value);\r\n            form.append('upsells', upsells.value);\r\n            form.append('cross_sells', cross_sells.value);\r\n            form.append('purchase_note', purchase_note.value);\r\n            form.append('enable_reviews', enable_reviews.value);\r\n              for(var i = 0; i< inventory.length; i++){\r\n            form.append('inventroy_sku[]', inventory[i].sku);\r\n            form.append('inventroy_size[]', inventory[i].size);\r\n            form.append('inventroy_price[]', inventory[i].price);\r\n            form.append('inventroy_weight[]', inventory[i].weight);\r\n              }\r\n\r\n            for(var i = 0; i< inputs.length; i++){\r\n            form.append('inputs_length[]', inputs[i].length);\r\n            form.append('inputs_width[]', inputs[i].width);\r\n            form.append('inputs_height[]', inputs[i].height);\r\n            form.append('inputs_unit[]', inputs[i].unit);\r\n\r\n            }\r\n           \r\n            form.append('manage_stock', manage_stock.value);\r\n            form.append('category_id', category_id.value);\r\n            form.append('sub_category_id', sub_category_id.value);\r\n            form.append('brand_id', brand_id.value);\r\n            form.append('tags', tags.value);\r\n            form.append('feature_image',  feature_image_get.value);\r\n\r\n            for(var i = 0; i< image_gallaries.value.length; i++){\r\n            form.append('gallary_image[]',  image_gallaries.value[i]);\r\n            }\r\n            if(errorMsg['product_name'] =='' && errorMsg['product_description'] == '' && errorMsg['unit'] == ''  && errorMsg['rprices'] == '' && errorMsg['sprices'] == '' && errorMsg['category'] == '' && errorMsg['brand'] == ''){\r\n               const product = await productApi.create(form);\r\n                if(product.data.success){\r\n                loading.value = false;\r\n                const payload = {\r\n                    type: 'success',\r\n                    message: product.data.success\r\n                }\r\n\r\n                store.dispatch('addNotification', payload)\r\n                }\r\n            }else{\r\n                loading.value = false;\r\n            }\r\n           \r\n\r\n        }\r\n\r\n\r\n\r\n    \r\n\r\n\r\n        return {categoryOpen, brandList, displayToBrand, brand_id, opencategory, displayToCommunity, img_url, ImgChange, ImgRemove, productCategorySubmit, categoryList, image, cat_name, cat_description, brand_name, brand_description, openbrand, brandOpen, productBrandSubmit,feature_image_url, featureImage, featureImgRemove, galleryImageChange,  image_gallaries, image_gallary_url, imageLength, tagSubmit, tags, tag, tagkeyPress, inputs, add, remove, inventory, addInventory, removeInventory, gallaryImgRemove, displayToCategory, category_id,sub_category_id,displayToSubCategory, subCategoryList, productEditSubmit, product_name, product_description, unit, regular_price, sale_price, purchase_price,replace_guaranty, max_delivary_days, upsells, cross_sells, purchase_note,enable_reviews,manage_stock, errorMsg, loading, product, selectedCategory, selectedBrand, FeatureImageNow, transformImgExt}\r\n    },\r\n\r\n\r\n    data(){\r\n        return{\r\n            communities:[]\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        openShortSlide(evt, slideName) {\r\n            var i, x, tablinks;\r\n            x = document.getElementsByClassName(\"cnt_txt\");\r\n            for (i = 0; i < x.length; i++) {\r\n                x[i].style.display = \"none\";\r\n\r\n            }\r\n            tablinks = document.getElementsByClassName(\"tablink\");\r\n            for (i = 0; i < x.length; i++) {\r\n                tablinks[i].className = tablinks[i].className.replace(\" active\", \"\"); \r\n\r\n            }\r\n            document.getElementById(slideName).style.display = \"block\";\r\n    \r\n          if(slideName == 'General'){\r\n               document.getElementById('Generalbt').classList.add(\"active\");\r\n            }else if(slideName == 'Inventory'){\r\n                document.getElementById('Inventorybt').classList.add(\"active\");\r\n            }else if(slideName == 'Shipping'){\r\n                document.getElementById('Shippingbt').classList.add(\"active\");\r\n            }else if(slideName == 'LinkedProducts'){\r\n                document.getElementById('LinkedProductsbt').classList.add(\"active\");\r\n            }else if(slideName == 'Attributes'){\r\n                document.getElementById('Attributesbt').classList.add(\"active\");\r\n            }else if(slideName == 'Advanced'){\r\n                document.getElementById('Advancedbt').classList.add(\"active\");\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n\r\n\r\n.mb_1 { margin-bottom: 4px; }\r\n.mb_2 { margin-bottom: 8px; }\r\n.mb_3 { margin-bottom: 12px; }\r\n.mb_4 { margin-bottom: 16px; }\r\n.mb_5 { margin-bottom: 20px; }\r\n.mb_6 { margin-bottom: 24px; }\r\n.mb_7 { margin-bottom: 28px; }\r\n.mb_8 { margin-bottom: 32px; }\r\n\r\n.mt_1 { margin-top: 4px; }\r\n.mt_2 { margin-top: 8px; }\r\n.mt_3 { margin-top: 12px; }\r\n.mt_4 { margin-top: 16px; }\r\n.mt_5 { margin-top: 20px; }\r\n.mt_6 { margin-top: 24px; }\r\n.mt_7 { margin-top: 28px; }\r\n.mt_8 { margin-top: 32px; }\r\n\r\n.bg_c {\r\n    background-color: #ff3111;\r\n}\r\n.bg_c:hover {\r\n    background-color: #f46853;\r\n    box-shadow: 0px 15px 20px rgba(243, 74, 36, 0.4);\r\n}\r\n\r\n.d_none {\r\n    display: none;\r\n}\r\n.thumbnail {\r\n    display: flex;\r\n    align-items: start;\r\n    gap: 16px;\r\n\r\n    .img {\r\n        position: relative;\r\n\r\n        img {\r\n            width: 60px;\r\n            height: 60px;\r\n            box-shadow: 0 10px 19px rgb(0 0 0 / 15%);\r\n            border: 1px solid #ddd;\r\n            border-radius: 4px;\r\n        }\r\n\r\n        .remove_btn {\r\n            position: absolute;\r\n            top: 0;\r\n            right: 0;\r\n            width: 20px;\r\n            height: 20px;\r\n            background-color: #fff;\r\n            border-radius: 50%;\r\n            padding: 6px;\r\n            font-size: 12px;\r\n            line-height: 10px;\r\n            color: #f01a1a;\r\n            cursor: pointer;\r\n\r\n            &:hover {\r\n                background-color: #222;\r\n                color: #fff;\r\n            }\r\n        }\r\n    }\r\n\r\n    button {\r\n        border: 1px solid #135e96;\r\n        color: #135e96;\r\n        padding: 0.25rem 0.5rem;\r\n        background-color: transparent;\r\n        border-radius: 4px;\r\n        cursor: pointer;\r\n    }\r\n}\r\n\r\n.page_setup {\r\n    & > h4 {\r\n        font-size: 16px;\r\n        font-weight: 600;\r\n        color: #444;\r\n        margin-bottom: 20px;\r\n    }\r\n    .form_data {\r\n        display: flex;\r\n        column-gap: 20px;\r\n        .left {\r\n            width: calc(100% - 260px);\r\n           \r\n            ._bottom {\r\n                border: 1px solid #ddd;\r\n                margin-top: 40px;\r\n                ._head {\r\n                    border-bottom: 1px solid #ddd;\r\n                    padding: 12px 16px;\r\n                    h4 {\r\n                        color: #444;\r\n                    }\r\n                }\r\n                ._body {\r\n                    display: flex;\r\n                    ._left {\r\n                        border-right: 1px solid #ddd;\r\n                        width: 180px;\r\n                        background-color: #f2f2f2;\r\n                        button {\r\n                            width: 100%;\r\n                            border: none;\r\n                            text-align: left;\r\n                            padding: 12px 16px;\r\n                            font-size: 14px;\r\n                            border-bottom: 1px solid #ddd;\r\n                            display: block;\r\n                            &:last-child {\r\n                                border-bottom: 0px solid #ddd;\r\n                            }\r\n                            &.active {\r\n                                background-color: #e3e3e3;\r\n                            }\r\n                        }\r\n                    }\r\n                    ._right {\r\n                        width: calc(100% - 180px);\r\n                        .content {\r\n                            padding: 16px;\r\n                            .cnt_txt {\r\n                                & > span {\r\n                                    font-size: 12px;\r\n                                    color: #5492bc;\r\n                                    padding-left: 200px;\r\n                                    cursor: pointer;\r\n                                    text-decoration: underline;\r\n                                }\r\n                                .brdr_t {\r\n                                    border-top: 1px solid #ddd;\r\n                                    padding-top: 20px;\r\n                                    \r\n                                }\r\n                                .input_grp {\r\n                                    display: block;\r\n\r\n                                    label {\r\n                                        margin-bottom: 6px;\r\n                                        display: inline-block;\r\n                                        font-size: 14px;\r\n                                        width: 200px;\r\n                                    }\r\n\r\n                                    ._grp {\r\n                                        width: 100%;\r\n                                        display: flex;\r\n                                        column-gap: 12px;\r\n                                        ._l {\r\n                                            display: flex;\r\n                                            column-gap: 8px;\r\n                                            width: 90%;\r\n                                        }\r\n                                        ._right {\r\n                                            width: 10%;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        .right {\r\n            width: 260px;\r\n            .page_sidebar {\r\n                .step {\r\n                    box-shadow: 0 2px 4px rgba(0,0,0,0.15);\r\n                    margin-bottom: 20px;\r\n                    &:last-child {\r\n                        margin-bottom: 0;\r\n                    }\r\n                    ._head {\r\n                        border-bottom: 1px solid #ddd;\r\n                        padding: 12px 0;\r\n                        .title {\r\n                            font-size: 14px;\r\n                            font-weight: 600;\r\n                            color: #444;\r\n                            padding: 0 16px;\r\n                        }\r\n                    }\r\n                    ._body {\r\n                        padding: 12px 16px;\r\n                    }\r\n                    ._foot {\r\n                        border-top: 1px solid #ddd;\r\n                        span {\r\n                            padding: 12px 16px;\r\n                            display: block;\r\n                            .link {\r\n                                font-size: 13px;\r\n                                color: #5492bc;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                .tags {\r\n                    ._body {\r\n                        ._lr {\r\n                            display: flex;\r\n                            column-gap: 8px;\r\n                            align-items: flex-end;\r\n                            button {\r\n                                height: 36px;\r\n                                font-size: 14px;\r\n                                padding: 0 16px;\r\n                            }\r\n                        }\r\n                    }\r\n                    ._foot {\r\n                        .items {\r\n                            list-style: none;\r\n                            display: flex;\r\n                            column-gap: 12px;\r\n                            flex-wrap: wrap;\r\n                            padding: 8px;\r\n                            .item {\r\n                                font-size: 14px;\r\n                                color: #555;\r\n                                line-height: 26px;\r\n                                cursor: pointer;\r\n                                transition: all 0.3s ease 0s;\r\n                                -webkit-transition: all 0.3s ease 0s;\r\n                                &:hover {\r\n                                    color: #f19024;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                .feature_img {\r\n                    .img_set {\r\n                        .remove_btn{\r\n                            width: 20px;\r\n                            position: absolute;\r\n                            right: 28px;\r\n                            cursor: pointer;\r\n                        }\r\n                        .remove_btn_galary{\r\n                                width: 20px !important;\r\n                                min-width: 20px;\r\n                                position: absolute;\r\n                                right: 18px;\r\n                                margin-top: -26px;\r\n                                cursor: pointer;\r\n                        }\r\n                        img {\r\n                            max-width: 100%;\r\n                            min-width: 100%;\r\n                            height: 100px;\r\n                        }\r\n                        span.span_class_ok{\r\n                                position: absolute;\r\n                                margin-top: -146px;\r\n                                right: 23px;\r\n                                cursor: pointer;\r\n                        }\r\n\r\n                       \r\n                    }\r\n                     .img_set_gallary{\r\n                        div{\r\n                             min-width: 25%;\r\n                            float:left;\r\n                            padding: 5px;\r\n                             img {\r\n                            max-width: 25%;\r\n                            height: 70px;\r\n                            // float:left;\r\n                            // padding: 5px;\r\n                        }\r\n                        span{\r\n                                position: absolute;\r\n                                font-size: 10px;\r\n                                margin-top: -42px;\r\n                                margin-left: 22px;\r\n                                cursor: pointer;\r\n                        }\r\n                        }\r\n                            \r\n                        }\r\n                    span {\r\n                        padding: 12px 16px;\r\n                        display: block;\r\n                        .link {\r\n                            font-size: 13px;\r\n                            color: #5492bc;\r\n                        }\r\n                    }\r\n                }\r\n                .ms { display: none; }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n$phone-width-small: 360px;\r\n$phone-width: 575px;\r\n$tablet-width: 767px;\r\n$desktop-width: 1023px;\r\n\r\n@media (max-width: #{$desktop-width}) {}\r\n\r\n@media (max-width: #{$tablet-width}) {\r\n    .ms {\r\n        display: block;\r\n    }\r\n\r\n    .mh {\r\n        display: none;\r\n    }\r\n\r\n    .input_grp {\r\n        display: flex;\r\n        align-items: flex-start;\r\n        flex-direction: column;\r\n    }\r\n\r\n    .page_setup {\r\n        .form_data {\r\n            flex-direction: column;\r\n\r\n            .left {\r\n                width: 100% !important;\r\n\r\n               \r\n\r\n                ._bottom {\r\n                    ._body {\r\n                        flex-direction: column;\r\n                        ._left {\r\n                            display: flex;\r\n                            width: 100%;\r\n                        }\r\n                        ._right {\r\n                            width: 100%;\r\n\r\n                            .content {\r\n                                padding: 16px;\r\n\r\n                                .cnt_txt {\r\n                                    .input_grp {\r\n                                        display: flex;\r\n                                        align-items: flex-start;\r\n                                        flex-direction: column;\r\n\r\n                                        ._grp {\r\n                                            width: 100%;\r\n                                            \r\n                                        }\r\n                                    }\r\n\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            .right {\r\n                width: 100% !important;\r\n\r\n                .page_sidebar {\r\n                  \r\n\r\n                    .ms {\r\n                        display: block !important;\r\n                    }\r\n\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n@media (max-width: #{$phone-width}) {\r\n    ._half {\r\n        width: 50%!important;\r\n    }\r\n    .page_setup {\r\n        .form_data {\r\n            flex-direction: column;\r\n\r\n            .left {\r\n              \r\n\r\n                ._bottom {\r\n                    ._body {\r\n                     \r\n\r\n                        ._right {\r\n                            .content {\r\n                                .cnt_txt {\r\n                                    .input_grp {\r\n                                        ._grp {\r\n                                            flex-wrap: wrap;\r\n                                            row-gap: 20px;\r\n                                            ._l {\r\n                                                display: grid;\r\n                                                height: auto;\r\n                                                align-content: start;\r\n                                                grid-template-columns: repeat(2, minmax(160px, 1fr));\r\n                                                gap: 30px;\r\n                                                width: 100%;\r\n                                            }\r\n                                           \r\n                                        }\r\n                                    }\r\n\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            \r\n        }\r\n    }\r\n}\r\n\r\n\r\n@media (max-width: #{$phone-width-small}) {}\r\n</style>"]},"metadata":{},"sourceType":"module"}