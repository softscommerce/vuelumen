{"ast":null,"code":"import { ref } from 'vue';\nimport axios from 'axios'; // import  Image  from '@/Helpers/image.js'\n\nimport brand from './composible/brand-api.js';\nexport default {\n  setup() {\n    const displayToCommunity = event => {\n      console.log(event);\n    };\n\n    const img_url = ref('');\n    const image = ref('');\n    const brand_description = ref('');\n    const brand_name = ref('');\n\n    const ImgChange = event => {\n      image.value = event.target.files[0];\n      img_url.value = URL.createObjectURL(event.target.files[0]); //  var f = event.target.files[0];\n      //     var fileName = f.name.split('.')[0];\n      //     console.log(f.size);\n      //     var img = new Image();\n      //     img.src = URL.createObjectURL(f);\n      //     if(f.size >=  100006){\n      //          img.onload = function(){\n      //         var canvas = document.createElement('canvas');\n      //         canvas.width = img.width - 100;\n      //         canvas.height = img.height - 100;\n      //         var ctx = canvas.getContext('2d');\n      //         ctx.drawImage(img, 0, 0);\n      //         canvas.toBlob(function(blob){\n      //                 console.info(blob.size);\n      //                 var f2 = new File([blob], fileName + \".webp\");\n      //                 image.value = f2;\n      //                 console.log(image.value);\n      //         }, 'image/webp', 0.00001);\n      //     }\n      //     }else{\n      //          img.onload = function(){\n      //         var canvas = document.createElement('canvas');\n      //         canvas.width = img.width;\n      //         canvas.height = img.height;\n      //         var ctx = canvas.getContext('2d');\n      //         ctx.drawImage(img, 0, 0);\n      //         canvas.toBlob(function(blob){\n      //                 console.info(blob.size);\n      //                 var f2 = new File([blob], fileName + \".webp\");\n      //                 image.value = f2;\n      //                 console.log(image.value);\n      //         }, 'image/webp', 0.5);\n      //         }\n      //     }\n    };\n\n    const brandFormSubmit = () => {\n      const form = new FormData();\n      form.append(\"image\", image.value);\n      form.append(\"name\", brand_name.value);\n      form.append(\"description\", brand_description.value);\n      brand.create(form);\n    };\n\n    const ImgRemove = () => {\n      img_url.value = '';\n    };\n\n    return {\n      displayToCommunity,\n      img_url,\n      ImgChange,\n      ImgRemove,\n      image,\n      brandFormSubmit,\n      brand_description,\n      brand_name\n    };\n  },\n\n  data() {\n    return {\n      communities: []\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAgCA,SAASA,GAAT,QAAoB,KAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,KAAP,MAAkB,2BAAlB;AACA,eAAe;EACXC,KAAK,GAAG;IACJ,MAAMC,kBAAiB,GAAKC,KAAD,IAAW;MAClCC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACJ,CAFA;;IAKA,MAAMG,OAAM,GAAIR,GAAG,CAAC,EAAD,CAAnB;IACA,MAAMS,KAAI,GAAIT,GAAG,CAAC,EAAD,CAAjB;IACA,MAAMU,iBAAgB,GAAIV,GAAG,CAAC,EAAD,CAA7B;IACA,MAAMW,UAAS,GAAKX,GAAG,CAAC,EAAD,CAAvB;;IAGA,MAAMY,SAAQ,GAAKP,KAAD,IAAW;MACzBI,KAAK,CAACI,KAAN,GAAeR,KAAK,CAACS,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAf;MAEAP,OAAO,CAACK,KAAR,GAAgBG,GAAG,CAACC,eAAJ,CAAoBZ,KAAK,CAACS,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAApB,CAAhB,CAHyB,CAKzB;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACA;MAEA;MACA;MACA;IAOJ,CAjDA;;IAmDA,MAAMG,eAAc,GAAK,MAAK;MACzB,MAAMC,IAAG,GAAK,IAAIC,QAAJ,EAAd;MACGD,IAAI,CAACE,MAAL,CAAY,OAAZ,EAAqBZ,KAAK,CAACI,KAA3B;MACAM,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoBV,UAAU,CAACE,KAA/B;MACAM,IAAI,CAACE,MAAL,CAAY,aAAZ,EAA2BX,iBAAiB,CAACG,KAA7C;MACCX,KAAK,CAACoB,MAAN,CAAaH,IAAb;IAGT,CARA;;IASA,MAAMI,SAAQ,GAAI,MAAM;MACpBf,OAAO,CAACK,KAAR,GAAgB,EAAhB;IACJ,CAFA;;IAIA,OAAO;MAAET,kBAAF;MAAsBI,OAAtB;MAA+BI,SAA/B;MAA0CW,SAA1C;MAAqDd,KAArD;MAA4DS,eAA5D;MAA6ER,iBAA7E;MAAgGC;IAAhG,CAAP;EACH,CA9EU;;EAgFXa,IAAI,GAAG;IACH,OAAO;MACHC,WAAW,EAAE;IADV,CAAP;EAGH;;AApFU,CAAf","names":["ref","axios","brand","setup","displayToCommunity","event","console","log","img_url","image","brand_description","brand_name","ImgChange","value","target","files","URL","createObjectURL","brandFormSubmit","form","FormData","append","create","ImgRemove","data","communities"],"sourceRoot":"","sources":["F:\\softvue\\src\\modules\\admin\\view\\product\\page\\brand\\BrandAddPage.vue"],"sourcesContent":["<template>\r\n    <div class=\"product_page\">\r\n        <div class=\"page_setup\">\r\n            <form class=\"form_data short\" @submit.prevent=\"brandFormSubmit\" enctype=\"multipart-formdata\">\r\n                <h4 class=\"heading\">Add new Brand</h4>\r\n                <div class=\"mb_3\">\r\n                    <base-input label=\"Name\" v-model=\"brand_name\" placeholder=\"name\"></base-input>\r\n                </div>\r\n                \r\n                <div class=\"mb_3\">\r\n                    <base-textarea v-model=\"brand_description\" label=\"Description\" rowNum=\"6\" placeholder=\"description\"></base-textarea>\r\n                </div>\r\n                <div class=\"mb_3\">\r\n                    <div class=\"thumbnail\">\r\n                        <div class=\"img\">\r\n                            <div v-if=\"img_url != ''\" class=\"remove_btn\" @click=\"ImgRemove\">X</div>\r\n                            <img v-if=\"img_url == ''\" src=\"@/assets/admin/dummy-img.png\" alt=\"Thumbnail\">\r\n                            <img v-else :src=\"img_url\" alt=\"Thumbnail\">\r\n                        </div>\r\n                        <button type=\"button\" class=\"btn btn_border btn_sm\" @click=\"$refs.file.click()\">Upload/Add\r\n                            image</button>\r\n                        <input type=\"file\" ref=\"file\" class=\"d_none\" @change=\"ImgChange($event)\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"mb_3\">\r\n                    <base-button type=\"submit\">Add</base-button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { ref } from 'vue'\r\nimport axios from 'axios';\r\n// import  Image  from '@/Helpers/image.js'\r\nimport brand from './composible/brand-api.js';\r\nexport default {\r\n    setup() {\r\n        const displayToCommunity = (event) => {\r\n            console.log(event);\r\n        }\r\n\r\n\r\n        const img_url = ref('');\r\n        const image = ref('');\r\n        const brand_description = ref('');\r\n        const brand_name  = ref('');\r\n\r\n\r\n        const ImgChange = (event) => {\r\n            image.value =  event.target.files[0];\r\n\r\n            img_url.value = URL.createObjectURL(event.target.files[0]);\r\n\r\n            //  var f = event.target.files[0];\r\n               \r\n            //     var fileName = f.name.split('.')[0];\r\n            //     console.log(f.size);\r\n            //     var img = new Image();\r\n            //     img.src = URL.createObjectURL(f);\r\n            //     if(f.size >=  100006){\r\n            //          img.onload = function(){\r\n            //         var canvas = document.createElement('canvas');\r\n            //         canvas.width = img.width - 100;\r\n            //         canvas.height = img.height - 100;\r\n            //         var ctx = canvas.getContext('2d');\r\n            //         ctx.drawImage(img, 0, 0);\r\n            //         canvas.toBlob(function(blob){\r\n            //                 console.info(blob.size);\r\n            //                 var f2 = new File([blob], fileName + \".webp\");\r\n            //                 image.value = f2;\r\n            //                 console.log(image.value);\r\n                       \r\n            //         }, 'image/webp', 0.00001);\r\n            //     }\r\n            //     }else{\r\n            //          img.onload = function(){\r\n            //         var canvas = document.createElement('canvas');\r\n            //         canvas.width = img.width;\r\n            //         canvas.height = img.height;\r\n            //         var ctx = canvas.getContext('2d');\r\n            //         ctx.drawImage(img, 0, 0);\r\n            //         canvas.toBlob(function(blob){\r\n            //                 console.info(blob.size);\r\n            //                 var f2 = new File([blob], fileName + \".webp\");\r\n                       \r\n            //                 image.value = f2;\r\n            //                 console.log(image.value);\r\n                       \r\n            //         }, 'image/webp', 0.5);\r\n            //         }\r\n            //     }\r\n\r\n\r\n\r\n\r\n\r\n           \r\n        }\r\n\r\n        const brandFormSubmit =  () =>{\r\n             const form =  new FormData();\r\n                form.append(\"image\", image.value);\r\n                form.append(\"name\", brand_name.value);\r\n                form.append(\"description\", brand_description.value);\r\n                 brand.create(form);\r\n               \r\n\r\n        }\r\n        const ImgRemove = () => {\r\n            img_url.value = '';\r\n        }\r\n\r\n        return { displayToCommunity, img_url, ImgChange, ImgRemove, image, brandFormSubmit, brand_description, brand_name }\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            communities: []\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n\r\n\r\n\r\n\r\n\r\n.d_none {\r\n    display: none;\r\n}\r\n.thumbnail {\r\n    display: flex;\r\n    align-items: start;\r\n    gap: 16px;\r\n    .img {\r\n        position: relative;\r\n        img {\r\n            width: 60px;\r\n            height: 60px;\r\n            box-shadow: 0 10px 19px rgb(0 0 0 / 15%);\r\n            border: 1px solid #ddd;\r\n            border-radius: 4px;\r\n        }\r\n        .remove_btn {\r\n            position: absolute;\r\n            top: 0;\r\n            right: 0;\r\n            width: 20px;\r\n            height: 20px;\r\n            background-color: #fff;\r\n            border-radius: 50%;\r\n            padding: 6px;\r\n            font-size: 12px;\r\n            line-height: 10px;\r\n            color: #f01a1a;\r\n            cursor: pointer;\r\n            &:hover {\r\n                background-color: #222;\r\n                color: #fff;\r\n            }\r\n        }\r\n    }\r\n    button {\r\n        border: 1px solid #135e96;\r\n        color: #135e96;\r\n        padding: 0.25rem 0.5rem;\r\n        background-color: transparent;\r\n        border-radius: 4px;\r\n        cursor: pointer;\r\n    }\r\n}\r\n.form_data {\r\n    h4.heading {\r\n        margin-bottom: 20px;\r\n        color: #666;\r\n    }\r\n}\r\nform.form_data.short {\r\n    max-width: 600px;\r\n    margin: auto;\r\n    box-shadow: 0 5px 16px rgb(0 0 0 / 15%);\r\n    padding: 20px;\r\n    margin-top: 20px;\r\n}\r\n\r\n.mb_1 {\r\n    margin-bottom: 4px;\r\n}\r\n.mb_2 {\r\n    margin-bottom: 8px;\r\n}\r\n.mb_3 {\r\n    margin-bottom: 12px;\r\n}\r\n.mb_4 {\r\n    margin-bottom: 16px;\r\n}\r\n.mb_5 {\r\n    margin-bottom: 20px;\r\n}\r\n.mb_6 {\r\n    margin-bottom: 24px;\r\n}\r\n.mb_7 {\r\n    margin-bottom: 28px;\r\n}\r\n.mb_8 {\r\n    margin-bottom: 32px;\r\n}\r\n.mt_1 {\r\n    margin-top: 4px;\r\n}\r\n.mt_2 {\r\n    margin-top: 8px;\r\n}\r\n.mt_3 {\r\n    margin-top: 12px;\r\n}\r\n.mt_4 {\r\n    margin-top: 16px;\r\n}\r\n.mt_5 {\r\n    margin-top: 20px;\r\n}\r\n.mt_6 {\r\n    margin-top: 24px;\r\n}\r\n.mt_7 {\r\n    margin-top: 28px;\r\n}\r\n.mt_8 {\r\n    margin-top: 32px;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n$phone-width-small: 360px;\r\n$phone-width: 575px;\r\n$tablet-width: 767px;\r\n$desktop-width: 1023px;\r\n\r\n@media (max-width: #{$desktop-width}) {}\r\n\r\n@media (max-width: #{$tablet-width}) {}\r\n\r\n@media (max-width: #{$phone-width}) {}\r\n\r\n@media (max-width: #{$phone-width-small}) {}\r\n</style>"]},"metadata":{},"sourceType":"module"}