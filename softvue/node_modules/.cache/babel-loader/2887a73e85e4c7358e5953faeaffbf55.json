{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, withCtx as _withCtx, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-40d5521e\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"product_page\"\n};\nconst _hoisted_2 = {\n  class: \"page_setup\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h4\", {\n  class: \"heading\"\n}, \"Edit Brand\", -1\n/* HOISTED */\n));\n\nconst _hoisted_4 = {\n  class: \"mb_3\"\n};\nconst _hoisted_5 = {\n  class: \"mb_3\"\n};\nconst _hoisted_6 = {\n  class: \"mb_3\"\n};\nconst _hoisted_7 = {\n  class: \"thumbnail\"\n};\nconst _hoisted_8 = {\n  class: \"img\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  src: \"brand_info.image\",\n  alt: \"Thumbnail\"\n};\nconst _hoisted_10 = [\"src\"];\nconst _hoisted_11 = {\n  class: \"mb_3\"\n};\n\nconst _hoisted_12 = /*#__PURE__*/_createTextVNode(\"Edit\");\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_base_input = _resolveComponent(\"base-input\");\n\n  const _component_base_textarea = _resolveComponent(\"base-textarea\");\n\n  const _component_base_button = _resolveComponent(\"base-button\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"form\", {\n    class: \"form_data short\",\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => _ctx.brandFormSubmitEdit && _ctx.brandFormSubmitEdit(...args), [\"prevent\"])),\n    enctype: \"multipart-formdata\"\n  }, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_base_input, {\n    label: \"Name\",\n    modelValue: $setup.brand_name,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.brand_name = $event)\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_base_textarea, {\n    modelValue: $setup.brand_description,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.brand_description = $event),\n    label: \"Description\",\n    rowNum: \"6\",\n    placeholder: \"description\"\n  }, null, 8\n  /* PROPS */\n  , [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createCommentVNode(\" <div v-if=\\\"img_url != ''\\\" class=\\\"remove_btn\\\" @click=\\\"ImgRemove\\\">X</div> \"), $setup.img_url == '' ? (_openBlock(), _createElementBlock(\"img\", _hoisted_9)) : (_openBlock(), _createElementBlock(\"img\", {\n    key: 1,\n    src: $setup.img_url,\n    alt: \"Thumbnail\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_10))]), _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn btn_border btn_sm\",\n    onClick: _cache[2] || (_cache[2] = $event => _ctx.$refs.file.click())\n  }, \"Upload/Add image\"), _createElementVNode(\"input\", {\n    type: \"file\",\n    ref: \"file\",\n    class: \"d_none\",\n    onChange: _cache[3] || (_cache[3] = $event => $setup.ImgChange($event))\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  )])]), _createElementVNode(\"div\", _hoisted_11, [_createVNode(_component_base_button, {\n    type: \"submit\"\n  }, {\n    default: _withCtx(() => [_hoisted_12]),\n    _: 1\n    /* STABLE */\n\n  })])], 32\n  /* HYDRATE_EVENTS */\n  )])]);\n}","map":{"version":3,"mappings":";;;;;EACSA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;gEAEHC,oBAAmC,IAAnC,EAAmC;EAA/BD,KAAK,EAAC;AAAyB,CAAnC,EAAoB,YAApB,EAA8B;AAAA;AAA9B;;;EACKA,KAAK,EAAC;;;EAINA,KAAK,EAAC;;;EAGNA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;EACFA,KAAK,EAAC;;;;EAEmBE,GAAG,EAAC;EAAmBC,GAAG,EAAC;;;;EAQ5DH,KAAK,EAAC;;;kDACoB;;;;;;;;;uBAxB3CI,oBA4BM,KA5BN,cA4BM,CA3BFH,oBA0BM,KA1BN,cA0BM,CAzBFA,oBAwBO,MAxBP,EAwBO;IAxBDD,KAAK,EAAC,iBAwBL;IAxBwBK,QAAM,wDAAUC,6DAAV,EAA6B,WAA7B,EAwB9B;IAxB6DC,OAAO,EAAC;EAwBrE,CAxBP,GACIC,YACAP,oBAEM,KAFN,cAEM,CADFQ,aAA6DC,qBAA7D,EAA6D;IAAjDC,KAAK,EAAC,MAA2C;gBAA3BC,iBAA2B;+DAA3BA,oBAAUC;EAAiB,CAA7D;;EAAA,iBACE,CAFN,GAIAZ,oBAEM,KAFN,cAEM,CADFQ,aAAyJK,wBAAzJ,EAAyJ;gBAAjIF,wBAAiI;+DAAjIA,2BAAiBC,OAAgH;IAA9GF,KAAK,EAAC,aAAwG;IAA1FI,MAAM,EAAC,GAAmF;IAA/EC,WAAW,EAAC;EAAmE,CAAzJ;;EAAA,iBACE,CAFN,GAGAf,oBAWM,KAXN,cAWM,CAVFA,oBASM,KATN,cASM,CARFA,oBAIM,KAJN,cAIM,CAHFgB,sGAGE,EAFSL,kBAAO,oBAAlBR,oBAAiE,KAAjE,gCACAA,oBAA2C,KAA3C,EAA2C;UAAA;IAA9BF,GAAG,EAAEU,cAAyB;IAAhBT,GAAG,EAAC;EAAY,CAA3C;;EAAA,eACE,CAJN,CAQE,EAHFF,oBACkB,QADlB,EACkB;IADViB,IAAI,EAAC,QACK;IADIlB,KAAK,EAAC,uBACV;IADmCmB,OAAK,sCAAEb,WAAMc,IAAN,CAAWC,KAAX,EAAF;EACxC,CADlB,EAAgF,kBAAhF,CAGE,EADFpB,oBAAyE,OAAzE,EAAyE;IAAlEiB,IAAI,EAAC,MAA6D;IAAtDI,GAAG,EAAC,MAAkD;IAA3CtB,KAAK,EAAC,QAAqC;IAA3BuB,QAAM,sCAAEX,iBAAUC,MAAV,CAAF;EAAqB,CAAzE;;EAAA,CACE,CATN,CAUE,CAXN,GAYAZ,oBAEM,KAFN,eAEM,CADFQ,aAA6Ce,sBAA7C,EAA6C;IAAhCN,IAAI,EAAC;EAA2B,CAA7C,EAA0B;sBAAC,MAAI,cAAL;;;;EAAA,CAA1B,CACE,CAFN,EArBJ;;EAAA,CAyBE,CA1BN,CA2BE,CA5BN","names":["class","_createElementVNode","src","alt","_createElementBlock","onSubmit","_ctx","enctype","_hoisted_3","_createVNode","_component_base_input","label","$setup","$event","_component_base_textarea","rowNum","placeholder","_createCommentVNode","type","onClick","file","click","ref","onChange","_component_base_button"],"sourceRoot":"","sources":["F:\\softvue\\src\\modules\\admin\\view\\product\\page\\brand\\BrandEditPage.vue"],"sourcesContent":["<template>\r\n    <div class=\"product_page\">\r\n        <div class=\"page_setup\">\r\n            <form class=\"form_data short\" @submit.prevent=\"brandFormSubmitEdit\" enctype=\"multipart-formdata\">\r\n                <h4 class=\"heading\">Edit Brand</h4>\r\n                <div class=\"mb_3\">\r\n                    <base-input label=\"Name\" v-model=\"brand_name\"  ></base-input>\r\n                </div>\r\n                \r\n                <div class=\"mb_3\">\r\n                    <base-textarea v-model=\"brand_description\" label=\"Description\" rowNum=\"6\" placeholder=\"description\" :modelValue=\"brand_info.description\"></base-textarea>\r\n                </div>\r\n                <div class=\"mb_3\">\r\n                    <div class=\"thumbnail\">\r\n                        <div class=\"img\">\r\n                            <!-- <div v-if=\"img_url != ''\" class=\"remove_btn\" @click=\"ImgRemove\">X</div> -->\r\n                            <img v-if=\"img_url == ''\" src=\"brand_info.image\" alt=\"Thumbnail\">\r\n                            <img v-else :src=\"img_url\" alt=\"Thumbnail\">\r\n                        </div>\r\n                        <button type=\"button\" class=\"btn btn_border btn_sm\" @click=\"$refs.file.click()\">Upload/Add\r\n                            image</button>\r\n                        <input type=\"file\" ref=\"file\" class=\"d_none\" @change=\"ImgChange($event)\">\r\n                    </div>\r\n                </div>\r\n                <div class=\"mb_3\">\r\n                    <base-button type=\"submit\">Edit</base-button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { ref, onMounted } from 'vue'\r\nimport axios from 'axios';\r\n// import  Image  from '@/Helpers/image.js'\r\nimport brandApi from './composible/brand-api.js';\r\nimport { useStore } from 'vuex'\r\nimport { useRoute } from 'vue-router'\r\nexport default {\r\n    setup() {\r\n        const displayToCommunity = (event) => {\r\n            console.log(event);\r\n        }\r\n\r\n      \r\n        const route = useRoute()\r\n        const store = useStore();\r\n        const brand_info = ref('');\r\n        const img_url = ref('');\r\n        const image = ref('');\r\n        const brand_description = ref('');\r\n        const brand_name  = ref('');\r\n\r\n          onMounted( async ()=>{\r\n\r\n            // const brandInfo = await brandApi.getInfo(route.params.id);\r\n            // brand_info.value =  brandInfo.data.data\r\n            // brand_name.value = brand_info.value.name;\r\n            // brand_description.value =  brand_info.value.description\r\n            // console.log(brand_info.value.name)\r\n           \r\n        });\r\n\r\n\r\n        const ImgChange = (event) => {\r\n\r\n\r\n            img_url.value = URL.createObjectURL(event.target.files[0]);\r\n\r\n             var f = event.target.files[0];\r\n               \r\n                var fileName = f.name.split('.')[0];\r\n                console.log(f.size);\r\n                var img = new Image();\r\n                img.src = URL.createObjectURL(f);\r\n                if(f.size >=  100006){\r\n                     img.onload = function(){\r\n                    var canvas = document.createElement('canvas');\r\n                    canvas.width = img.width;\r\n                    canvas.height = img.height;\r\n                    var ctx = canvas.getContext('2d');\r\n                    ctx.drawImage(img, 0, 0);\r\n                    canvas.toBlob(function(blob){\r\n                            console.info(blob.size);\r\n                            var f2 = new File([blob], fileName + \".webp\");\r\n                            image.value = f2;\r\n                            console.log(image.value);\r\n                       \r\n                    }, 'image/webp', 0.00001);\r\n                }\r\n                }else{\r\n                     img.onload = function(){\r\n                    var canvas = document.createElement('canvas');\r\n                    canvas.width = img.width;\r\n                    canvas.height = img.height;\r\n                    var ctx = canvas.getContext('2d');\r\n                    ctx.drawImage(img, 0, 0);\r\n                    canvas.toBlob(function(blob){\r\n                            console.info(blob.size);\r\n                            var f2 = new File([blob], fileName + \".webp\");\r\n                       \r\n                            image.value = f2;\r\n                            console.log(image.value);\r\n                       \r\n                    }, 'image/webp', 0.5);\r\n                    }\r\n                }\r\n \r\n           \r\n        }\r\n\r\n        const brandFormSubmit =  async() =>{\r\n             const form =  new FormData();\r\n                form.append(\"image\", image.value);\r\n                form.append(\"name\", brand_name.value);\r\n                form.append(\"description\", brand_description.value);\r\n                 const brands = await brandApi.create(form);\r\n                 if(brands.data.success){\r\n                    const payload = {\r\n                        type: 'success',\r\n                        message: brands.data.success\r\n                    }\r\n                    store.dispatch('addNotification', payload)\r\n                 }\r\n\r\n               \r\n\r\n        }\r\n        const ImgRemove = () => {\r\n            img_url.value = '';\r\n        }\r\n\r\n        return { displayToCommunity, img_url, ImgChange, ImgRemove, image, brandFormSubmit, brand_description, brand_name, brand_info }\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            communities: []\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n\r\n\r\n\r\n\r\n\r\n.d_none {\r\n    display: none;\r\n}\r\n.thumbnail {\r\n    display: flex;\r\n    align-items: start;\r\n    gap: 16px;\r\n    .img {\r\n        position: relative;\r\n        img {\r\n            width: 60px;\r\n            height: 60px;\r\n            box-shadow: 0 10px 19px rgb(0 0 0 / 15%);\r\n            border: 1px solid #ddd;\r\n            border-radius: 4px;\r\n        }\r\n        .remove_btn {\r\n            position: absolute;\r\n            top: 0;\r\n            right: 0;\r\n            width: 20px;\r\n            height: 20px;\r\n            background-color: #fff;\r\n            border-radius: 50%;\r\n            padding: 6px;\r\n            font-size: 12px;\r\n            line-height: 10px;\r\n            color: #f01a1a;\r\n            cursor: pointer;\r\n            &:hover {\r\n                background-color: #222;\r\n                color: #fff;\r\n            }\r\n        }\r\n    }\r\n    button {\r\n        border: 1px solid #135e96;\r\n        color: #135e96;\r\n        padding: 0.25rem 0.5rem;\r\n        background-color: transparent;\r\n        border-radius: 4px;\r\n        cursor: pointer;\r\n    }\r\n}\r\n.form_data {\r\n    h4.heading {\r\n        margin-bottom: 20px;\r\n        color: #666;\r\n    }\r\n}\r\nform.form_data.short {\r\n    max-width: 600px;\r\n    margin: auto;\r\n    box-shadow: 0 5px 16px rgb(0 0 0 / 15%);\r\n    padding: 20px;\r\n    margin-top: 20px;\r\n}\r\n\r\n.mb_1 {\r\n    margin-bottom: 4px;\r\n}\r\n.mb_2 {\r\n    margin-bottom: 8px;\r\n}\r\n.mb_3 {\r\n    margin-bottom: 12px;\r\n}\r\n.mb_4 {\r\n    margin-bottom: 16px;\r\n}\r\n.mb_5 {\r\n    margin-bottom: 20px;\r\n}\r\n.mb_6 {\r\n    margin-bottom: 24px;\r\n}\r\n.mb_7 {\r\n    margin-bottom: 28px;\r\n}\r\n.mb_8 {\r\n    margin-bottom: 32px;\r\n}\r\n.mt_1 {\r\n    margin-top: 4px;\r\n}\r\n.mt_2 {\r\n    margin-top: 8px;\r\n}\r\n.mt_3 {\r\n    margin-top: 12px;\r\n}\r\n.mt_4 {\r\n    margin-top: 16px;\r\n}\r\n.mt_5 {\r\n    margin-top: 20px;\r\n}\r\n.mt_6 {\r\n    margin-top: 24px;\r\n}\r\n.mt_7 {\r\n    margin-top: 28px;\r\n}\r\n.mt_8 {\r\n    margin-top: 32px;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n$phone-width-small: 360px;\r\n$phone-width: 575px;\r\n$tablet-width: 767px;\r\n$desktop-width: 1023px;\r\n\r\n@media (max-width: #{$desktop-width}) {}\r\n\r\n@media (max-width: #{$tablet-width}) {}\r\n\r\n@media (max-width: #{$phone-width}) {}\r\n\r\n@media (max-width: #{$phone-width-small}) {}\r\n</style>"]},"metadata":{},"sourceType":"module"}